(function(){"use strict";function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _i(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var vn={},We={};We.byteLength=vi,We.toByteArray=wi,We.fromByteArray=Ii;for(var se=[],te=[],mi=typeof Uint8Array<"u"?Uint8Array:Array,wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le=0,Ei=wt.length;Le<Ei;++Le)se[Le]=wt[Le],te[wt.charCodeAt(Le)]=Le;te[45]=62,te[95]=63;function yn(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function vi(t){var e=yn(t),n=e[0],r=e[1];return(n+r)*3/4-r}function yi(t,e,n){return(e+n)*3/4-n}function wi(t){var e,n=yn(t),r=n[0],s=n[1],c=new mi(yi(t,r,s)),a=0,l=s>0?r-4:r,h;for(h=0;h<l;h+=4)e=te[t.charCodeAt(h)]<<18|te[t.charCodeAt(h+1)]<<12|te[t.charCodeAt(h+2)]<<6|te[t.charCodeAt(h+3)],c[a++]=e>>16&255,c[a++]=e>>8&255,c[a++]=e&255;return s===2&&(e=te[t.charCodeAt(h)]<<2|te[t.charCodeAt(h+1)]>>4,c[a++]=e&255),s===1&&(e=te[t.charCodeAt(h)]<<10|te[t.charCodeAt(h+1)]<<4|te[t.charCodeAt(h+2)]>>2,c[a++]=e>>8&255,c[a++]=e&255),c}function Ai(t){return se[t>>18&63]+se[t>>12&63]+se[t>>6&63]+se[t&63]}function xi(t,e,n){for(var r,s=[],c=e;c<n;c+=3)r=(t[c]<<16&16711680)+(t[c+1]<<8&65280)+(t[c+2]&255),s.push(Ai(r));return s.join("")}function Ii(t){for(var e,n=t.length,r=n%3,s=[],c=16383,a=0,l=n-r;a<l;a+=c)s.push(xi(t,a,a+c>l?l:a+c));return r===1?(e=t[n-1],s.push(se[e>>2]+se[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],s.push(se[e>>10]+se[e>>4&63]+se[e<<2&63]+"=")),s.join("")}var At={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */At.read=function(t,e,n,r,s){var c,a,l=s*8-r-1,h=(1<<l)-1,u=h>>1,g=-7,d=n?s-1:0,A=n?-1:1,m=t[e+d];for(d+=A,c=m&(1<<-g)-1,m>>=-g,g+=l;g>0;c=c*256+t[e+d],d+=A,g-=8);for(a=c&(1<<-g)-1,c>>=-g,g+=r;g>0;a=a*256+t[e+d],d+=A,g-=8);if(c===0)c=1-u;else{if(c===h)return a?NaN:(m?-1:1)*(1/0);a=a+Math.pow(2,r),c=c-u}return(m?-1:1)*a*Math.pow(2,c-r)},At.write=function(t,e,n,r,s,c){var a,l,h,u=c*8-s-1,g=(1<<u)-1,d=g>>1,A=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:c-1,y=r?1:-1,F=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,a=g):(a=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-a))<1&&(a--,h*=2),a+d>=1?e+=A/h:e+=A*Math.pow(2,1-d),e*h>=2&&(a++,h/=2),a+d>=g?(l=0,a=g):a+d>=1?(l=(e*h-1)*Math.pow(2,s),a=a+d):(l=e*Math.pow(2,d-1)*Math.pow(2,s),a=0));s>=8;t[n+m]=l&255,m+=y,l/=256,s-=8);for(a=a<<s|l,u+=s;u>0;t[n+m]=a&255,m+=y,a/=256,u-=8);t[n+m-y]|=F*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=We,n=At,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=k,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=c(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const f=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(f,i),f.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(f){if(f>s)throw new RangeError('The value "'+f+'" is invalid for option "size"');const i=new Uint8Array(f);return Object.setPrototypeOf(i,l.prototype),i}function l(f,i,o){if(typeof f=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(f)}return h(f,i,o)}l.poolSize=8192;function h(f,i,o){if(typeof f=="string")return A(f,i);if(ArrayBuffer.isView(f))return y(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(ae(f,ArrayBuffer)||f&&ae(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(f,SharedArrayBuffer)||f&&ae(f.buffer,SharedArrayBuffer)))return F(f,i,o);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const p=f.valueOf&&f.valueOf();if(p!=null&&p!==f)return l.from(p,i,o);const _=I(f);if(_)return _;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return l.from(f[Symbol.toPrimitive]("string"),i,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}l.from=function(f,i,o){return h(f,i,o)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function g(f,i,o){return u(f),f<=0?a(f):i!==void 0?typeof o=="string"?a(f).fill(i,o):a(f).fill(i):a(f)}l.alloc=function(f,i,o){return g(f,i,o)};function d(f){return u(f),a(f<0?0:S(f)|0)}l.allocUnsafe=function(f){return d(f)},l.allocUnsafeSlow=function(f){return d(f)};function A(f,i){if((typeof i!="string"||i==="")&&(i="utf8"),!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const o=R(f,i)|0;let p=a(o);const _=p.write(f,i);return _!==o&&(p=p.slice(0,_)),p}function m(f){const i=f.length<0?0:S(f.length)|0,o=a(i);for(let p=0;p<i;p+=1)o[p]=f[p]&255;return o}function y(f){if(ae(f,Uint8Array)){const i=new Uint8Array(f);return F(i.buffer,i.byteOffset,i.byteLength)}return m(f)}function F(f,i,o){if(i<0||f.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<i+(o||0))throw new RangeError('"length" is outside of buffer bounds');let p;return i===void 0&&o===void 0?p=new Uint8Array(f):o===void 0?p=new Uint8Array(f,i):p=new Uint8Array(f,i,o),Object.setPrototypeOf(p,l.prototype),p}function I(f){if(l.isBuffer(f)){const i=S(f.length)|0,o=a(i);return o.length===0||f.copy(o,0,0,i),o}if(f.length!==void 0)return typeof f.length!="number"||En(f.length)?a(0):m(f);if(f.type==="Buffer"&&Array.isArray(f.data))return m(f.data)}function S(f){if(f>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return f|0}function k(f){return+f!=f&&(f=0),l.alloc(+f)}l.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==l.prototype},l.compare=function(i,o){if(ae(i,Uint8Array)&&(i=l.from(i,i.offset,i.byteLength)),ae(o,Uint8Array)&&(o=l.from(o,o.offset,o.byteLength)),!l.isBuffer(i)||!l.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===o)return 0;let p=i.length,_=o.length;for(let E=0,w=Math.min(p,_);E<w;++E)if(i[E]!==o[E]){p=i[E],_=o[E];break}return p<_?-1:_<p?1:0},l.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(i,o){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return l.alloc(0);let p;if(o===void 0)for(o=0,p=0;p<i.length;++p)o+=i[p].length;const _=l.allocUnsafe(o);let E=0;for(p=0;p<i.length;++p){let w=i[p];if(ae(w,Uint8Array))E+w.length>_.length?(l.isBuffer(w)||(w=l.from(w)),w.copy(_,E)):Uint8Array.prototype.set.call(_,w,E);else if(l.isBuffer(w))w.copy(_,E);else throw new TypeError('"list" argument must be an Array of Buffers');E+=w.length}return _};function R(f,i){if(l.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||ae(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const o=f.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&o===0)return 0;let _=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return mn(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return gi(f).length;default:if(_)return p?-1:mn(f).length;i=(""+i).toLowerCase(),_=!0}}l.byteLength=R;function Z(f,i,o){let p=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,i>>>=0,o<=i))return"";for(f||(f="utf8");;)switch(f){case"hex":return T(this,i,o);case"utf8":case"utf-8":return N(this,i,o);case"ascii":return b(this,i,o);case"latin1":case"binary":return B(this,i,o);case"base64":return gn(this,i,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,i,o);default:if(p)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),p=!0}}l.prototype._isBuffer=!0;function Q(f,i,o){const p=f[i];f[i]=f[o],f[o]=p}l.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let o=0;o<i;o+=2)Q(this,o,o+1);return this},l.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<i;o+=4)Q(this,o,o+3),Q(this,o+1,o+2);return this},l.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let o=0;o<i;o+=8)Q(this,o,o+7),Q(this,o+1,o+6),Q(this,o+2,o+5),Q(this,o+3,o+4);return this},l.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?N(this,0,i):Z.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(i){if(!l.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:l.compare(this,i)===0},l.prototype.inspect=function(){let i="";const o=t.INSPECT_MAX_BYTES;return i=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(i+=" ... "),"<Buffer "+i+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(i,o,p,_,E){if(ae(i,Uint8Array)&&(i=l.from(i,i.offset,i.byteLength)),!l.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(o===void 0&&(o=0),p===void 0&&(p=i?i.length:0),_===void 0&&(_=0),E===void 0&&(E=this.length),o<0||p>i.length||_<0||E>this.length)throw new RangeError("out of range index");if(_>=E&&o>=p)return 0;if(_>=E)return-1;if(o>=p)return 1;if(o>>>=0,p>>>=0,_>>>=0,E>>>=0,this===i)return 0;let w=E-_,$=p-o;const W=Math.min(w,$),j=this.slice(_,E),V=i.slice(o,p);for(let H=0;H<W;++H)if(j[H]!==V[H]){w=j[H],$=V[H];break}return w<$?-1:$<w?1:0};function ce(f,i,o,p,_){if(f.length===0)return-1;if(typeof o=="string"?(p=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,En(o)&&(o=_?0:f.length-1),o<0&&(o=f.length+o),o>=f.length){if(_)return-1;o=f.length-1}else if(o<0)if(_)o=0;else return-1;if(typeof i=="string"&&(i=l.from(i,p)),l.isBuffer(i))return i.length===0?-1:xe(f,i,o,p,_);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(f,i,o):Uint8Array.prototype.lastIndexOf.call(f,i,o):xe(f,[i],o,p,_);throw new TypeError("val must be string, number or Buffer")}function xe(f,i,o,p,_){let E=1,w=f.length,$=i.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(f.length<2||i.length<2)return-1;E=2,w/=2,$/=2,o/=2}function W(V,H){return E===1?V[H]:V.readUInt16BE(H*E)}let j;if(_){let V=-1;for(j=o;j<w;j++)if(W(f,j)===W(i,V===-1?0:j-V)){if(V===-1&&(V=j),j-V+1===$)return V*E}else V!==-1&&(j-=j-V),V=-1}else for(o+$>w&&(o=w-$),j=o;j>=0;j--){let V=!0;for(let H=0;H<$;H++)if(W(f,j+H)!==W(i,H)){V=!1;break}if(V)return j}return-1}l.prototype.includes=function(i,o,p){return this.indexOf(i,o,p)!==-1},l.prototype.indexOf=function(i,o,p){return ce(this,i,o,p,!0)},l.prototype.lastIndexOf=function(i,o,p){return ce(this,i,o,p,!1)};function ge(f,i,o,p){o=Number(o)||0;const _=f.length-o;p?(p=Number(p),p>_&&(p=_)):p=_;const E=i.length;p>E/2&&(p=E/2);let w;for(w=0;w<p;++w){const $=parseInt(i.substr(w*2,2),16);if(En($))return w;f[o+w]=$}return w}function Ie(f,i,o,p){return yt(mn(i,f.length-o),f,o,p)}function ee(f,i,o,p){return yt(gu(i),f,o,p)}function _e(f,i,o,p){return yt(gi(i),f,o,p)}function pn(f,i,o,p){return yt(_u(i,f.length-o),f,o,p)}l.prototype.write=function(i,o,p,_){if(o===void 0)_="utf8",p=this.length,o=0;else if(p===void 0&&typeof o=="string")_=o,p=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(p)?(p=p>>>0,_===void 0&&(_="utf8")):(_=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const E=this.length-o;if((p===void 0||p>E)&&(p=E),i.length>0&&(p<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");let w=!1;for(;;)switch(_){case"hex":return ge(this,i,o,p);case"utf8":case"utf-8":return Ie(this,i,o,p);case"ascii":case"latin1":case"binary":return ee(this,i,o,p);case"base64":return _e(this,i,o,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pn(this,i,o,p);default:if(w)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),w=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function gn(f,i,o){return i===0&&o===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(i,o))}function N(f,i,o){o=Math.min(f.length,o);const p=[];let _=i;for(;_<o;){const E=f[_];let w=null,$=E>239?4:E>223?3:E>191?2:1;if(_+$<=o){let W,j,V,H;switch($){case 1:E<128&&(w=E);break;case 2:W=f[_+1],(W&192)===128&&(H=(E&31)<<6|W&63,H>127&&(w=H));break;case 3:W=f[_+1],j=f[_+2],(W&192)===128&&(j&192)===128&&(H=(E&15)<<12|(W&63)<<6|j&63,H>2047&&(H<55296||H>57343)&&(w=H));break;case 4:W=f[_+1],j=f[_+2],V=f[_+3],(W&192)===128&&(j&192)===128&&(V&192)===128&&(H=(E&15)<<18|(W&63)<<12|(j&63)<<6|V&63,H>65535&&H<1114112&&(w=H))}}w===null?(w=65533,$=1):w>65535&&(w-=65536,p.push(w>>>10&1023|55296),w=56320|w&1023),p.push(w),_+=$}return O(p)}const x=4096;function O(f){const i=f.length;if(i<=x)return String.fromCharCode.apply(String,f);let o="",p=0;for(;p<i;)o+=String.fromCharCode.apply(String,f.slice(p,p+=x));return o}function b(f,i,o){let p="";o=Math.min(f.length,o);for(let _=i;_<o;++_)p+=String.fromCharCode(f[_]&127);return p}function B(f,i,o){let p="";o=Math.min(f.length,o);for(let _=i;_<o;++_)p+=String.fromCharCode(f[_]);return p}function T(f,i,o){const p=f.length;(!i||i<0)&&(i=0),(!o||o<0||o>p)&&(o=p);let _="";for(let E=i;E<o;++E)_+=mu[f[E]];return _}function P(f,i,o){const p=f.slice(i,o);let _="";for(let E=0;E<p.length-1;E+=2)_+=String.fromCharCode(p[E]+p[E+1]*256);return _}l.prototype.slice=function(i,o){const p=this.length;i=~~i,o=o===void 0?p:~~o,i<0?(i+=p,i<0&&(i=0)):i>p&&(i=p),o<0?(o+=p,o<0&&(o=0)):o>p&&(o=p),o<i&&(o=i);const _=this.subarray(i,o);return Object.setPrototypeOf(_,l.prototype),_};function D(f,i,o){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+i>o)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(i,o,p){i=i>>>0,o=o>>>0,p||D(i,o,this.length);let _=this[i],E=1,w=0;for(;++w<o&&(E*=256);)_+=this[i+w]*E;return _},l.prototype.readUintBE=l.prototype.readUIntBE=function(i,o,p){i=i>>>0,o=o>>>0,p||D(i,o,this.length);let _=this[i+--o],E=1;for(;o>0&&(E*=256);)_+=this[i+--o]*E;return _},l.prototype.readUint8=l.prototype.readUInt8=function(i,o){return i=i>>>0,o||D(i,1,this.length),this[i]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(i,o){return i=i>>>0,o||D(i,2,this.length),this[i]|this[i+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(i,o){return i=i>>>0,o||D(i,2,this.length),this[i]<<8|this[i+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(i,o){return i=i>>>0,o||D(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(i,o){return i=i>>>0,o||D(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},l.prototype.readBigUInt64LE=Ee(function(i){i=i>>>0,$e(i,"offset");const o=this[i],p=this[i+7];(o===void 0||p===void 0)&&qe(i,this.length-8);const _=o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,E=this[++i]+this[++i]*2**8+this[++i]*2**16+p*2**24;return BigInt(_)+(BigInt(E)<<BigInt(32))}),l.prototype.readBigUInt64BE=Ee(function(i){i=i>>>0,$e(i,"offset");const o=this[i],p=this[i+7];(o===void 0||p===void 0)&&qe(i,this.length-8);const _=o*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],E=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+p;return(BigInt(_)<<BigInt(32))+BigInt(E)}),l.prototype.readIntLE=function(i,o,p){i=i>>>0,o=o>>>0,p||D(i,o,this.length);let _=this[i],E=1,w=0;for(;++w<o&&(E*=256);)_+=this[i+w]*E;return E*=128,_>=E&&(_-=Math.pow(2,8*o)),_},l.prototype.readIntBE=function(i,o,p){i=i>>>0,o=o>>>0,p||D(i,o,this.length);let _=o,E=1,w=this[i+--_];for(;_>0&&(E*=256);)w+=this[i+--_]*E;return E*=128,w>=E&&(w-=Math.pow(2,8*o)),w},l.prototype.readInt8=function(i,o){return i=i>>>0,o||D(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},l.prototype.readInt16LE=function(i,o){i=i>>>0,o||D(i,2,this.length);const p=this[i]|this[i+1]<<8;return p&32768?p|4294901760:p},l.prototype.readInt16BE=function(i,o){i=i>>>0,o||D(i,2,this.length);const p=this[i+1]|this[i]<<8;return p&32768?p|4294901760:p},l.prototype.readInt32LE=function(i,o){return i=i>>>0,o||D(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},l.prototype.readInt32BE=function(i,o){return i=i>>>0,o||D(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},l.prototype.readBigInt64LE=Ee(function(i){i=i>>>0,$e(i,"offset");const o=this[i],p=this[i+7];(o===void 0||p===void 0)&&qe(i,this.length-8);const _=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(p<<24);return(BigInt(_)<<BigInt(32))+BigInt(o+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),l.prototype.readBigInt64BE=Ee(function(i){i=i>>>0,$e(i,"offset");const o=this[i],p=this[i+7];(o===void 0||p===void 0)&&qe(i,this.length-8);const _=(o<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(_)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+p)}),l.prototype.readFloatLE=function(i,o){return i=i>>>0,o||D(i,4,this.length),n.read(this,i,!0,23,4)},l.prototype.readFloatBE=function(i,o){return i=i>>>0,o||D(i,4,this.length),n.read(this,i,!1,23,4)},l.prototype.readDoubleLE=function(i,o){return i=i>>>0,o||D(i,8,this.length),n.read(this,i,!0,52,8)},l.prototype.readDoubleBE=function(i,o){return i=i>>>0,o||D(i,8,this.length),n.read(this,i,!1,52,8)};function C(f,i,o,p,_,E){if(!l.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>_||i<E)throw new RangeError('"value" argument is out of bounds');if(o+p>f.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(i,o,p,_){if(i=+i,o=o>>>0,p=p>>>0,!_){const $=Math.pow(2,8*p)-1;C(this,i,o,p,$,0)}let E=1,w=0;for(this[o]=i&255;++w<p&&(E*=256);)this[o+w]=i/E&255;return o+p},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(i,o,p,_){if(i=+i,o=o>>>0,p=p>>>0,!_){const $=Math.pow(2,8*p)-1;C(this,i,o,p,$,0)}let E=p-1,w=1;for(this[o+E]=i&255;--E>=0&&(w*=256);)this[o+E]=i/w&255;return o+p},l.prototype.writeUint8=l.prototype.writeUInt8=function(i,o,p){return i=+i,o=o>>>0,p||C(this,i,o,1,255,0),this[o]=i&255,o+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(i,o,p){return i=+i,o=o>>>0,p||C(this,i,o,2,65535,0),this[o]=i&255,this[o+1]=i>>>8,o+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(i,o,p){return i=+i,o=o>>>0,p||C(this,i,o,2,65535,0),this[o]=i>>>8,this[o+1]=i&255,o+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(i,o,p){return i=+i,o=o>>>0,p||C(this,i,o,4,4294967295,0),this[o+3]=i>>>24,this[o+2]=i>>>16,this[o+1]=i>>>8,this[o]=i&255,o+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(i,o,p){return i=+i,o=o>>>0,p||C(this,i,o,4,4294967295,0),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4};function G(f,i,o,p,_){pi(i,p,_,f,o,7);let E=Number(i&BigInt(4294967295));f[o++]=E,E=E>>8,f[o++]=E,E=E>>8,f[o++]=E,E=E>>8,f[o++]=E;let w=Number(i>>BigInt(32)&BigInt(4294967295));return f[o++]=w,w=w>>8,f[o++]=w,w=w>>8,f[o++]=w,w=w>>8,f[o++]=w,o}function J(f,i,o,p,_){pi(i,p,_,f,o,7);let E=Number(i&BigInt(4294967295));f[o+7]=E,E=E>>8,f[o+6]=E,E=E>>8,f[o+5]=E,E=E>>8,f[o+4]=E;let w=Number(i>>BigInt(32)&BigInt(4294967295));return f[o+3]=w,w=w>>8,f[o+2]=w,w=w>>8,f[o+1]=w,w=w>>8,f[o]=w,o+8}l.prototype.writeBigUInt64LE=Ee(function(i,o=0){return G(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Ee(function(i,o=0){return J(this,i,o,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(i,o,p,_){if(i=+i,o=o>>>0,!_){const W=Math.pow(2,8*p-1);C(this,i,o,p,W-1,-W)}let E=0,w=1,$=0;for(this[o]=i&255;++E<p&&(w*=256);)i<0&&$===0&&this[o+E-1]!==0&&($=1),this[o+E]=(i/w>>0)-$&255;return o+p},l.prototype.writeIntBE=function(i,o,p,_){if(i=+i,o=o>>>0,!_){const W=Math.pow(2,8*p-1);C(this,i,o,p,W-1,-W)}let E=p-1,w=1,$=0;for(this[o+E]=i&255;--E>=0&&(w*=256);)i<0&&$===0&&this[o+E+1]!==0&&($=1),this[o+E]=(i/w>>0)-$&255;return o+p},l.prototype.writeInt8=function(i,o,p){return i=+i,o=o>>>0,p||C(this,i,o,1,127,-128),i<0&&(i=255+i+1),this[o]=i&255,o+1},l.prototype.writeInt16LE=function(i,o,p){return i=+i,o=o>>>0,p||C(this,i,o,2,32767,-32768),this[o]=i&255,this[o+1]=i>>>8,o+2},l.prototype.writeInt16BE=function(i,o,p){return i=+i,o=o>>>0,p||C(this,i,o,2,32767,-32768),this[o]=i>>>8,this[o+1]=i&255,o+2},l.prototype.writeInt32LE=function(i,o,p){return i=+i,o=o>>>0,p||C(this,i,o,4,2147483647,-2147483648),this[o]=i&255,this[o+1]=i>>>8,this[o+2]=i>>>16,this[o+3]=i>>>24,o+4},l.prototype.writeInt32BE=function(i,o,p){return i=+i,o=o>>>0,p||C(this,i,o,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[o]=i>>>24,this[o+1]=i>>>16,this[o+2]=i>>>8,this[o+3]=i&255,o+4},l.prototype.writeBigInt64LE=Ee(function(i,o=0){return G(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Ee(function(i,o=0){return J(this,i,o,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(f,i,o,p,_,E){if(o+p>f.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function me(f,i,o,p,_){return i=+i,o=o>>>0,_||q(f,i,o,4),n.write(f,i,o,p,23,4),o+4}l.prototype.writeFloatLE=function(i,o,p){return me(this,i,o,!0,p)},l.prototype.writeFloatBE=function(i,o,p){return me(this,i,o,!1,p)};function hi(f,i,o,p,_){return i=+i,o=o>>>0,_||q(f,i,o,8),n.write(f,i,o,p,52,8),o+8}l.prototype.writeDoubleLE=function(i,o,p){return hi(this,i,o,!0,p)},l.prototype.writeDoubleBE=function(i,o,p){return hi(this,i,o,!1,p)},l.prototype.copy=function(i,o,p,_){if(!l.isBuffer(i))throw new TypeError("argument should be a Buffer");if(p||(p=0),!_&&_!==0&&(_=this.length),o>=i.length&&(o=i.length),o||(o=0),_>0&&_<p&&(_=p),_===p||i.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),i.length-o<_-p&&(_=i.length-o+p);const E=_-p;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,p,_):Uint8Array.prototype.set.call(i,this.subarray(p,_),o),E},l.prototype.fill=function(i,o,p,_){if(typeof i=="string"){if(typeof o=="string"?(_=o,o=0,p=this.length):typeof p=="string"&&(_=p,p=this.length),_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!l.isEncoding(_))throw new TypeError("Unknown encoding: "+_);if(i.length===1){const w=i.charCodeAt(0);(_==="utf8"&&w<128||_==="latin1")&&(i=w)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(o<0||this.length<o||this.length<p)throw new RangeError("Out of range index");if(p<=o)return this;o=o>>>0,p=p===void 0?this.length:p>>>0,i||(i=0);let E;if(typeof i=="number")for(E=o;E<p;++E)this[E]=i;else{const w=l.isBuffer(i)?i:l.from(i,_),$=w.length;if($===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(E=0;E<p-o;++E)this[E+o]=w[E%$]}return this};const ke={};function _n(f,i,o){ke[f]=class extends o{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(_){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}_n("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_n("ERR_INVALID_ARG_TYPE",function(f,i){return`The "${f}" argument must be of type number. Received type ${typeof i}`},TypeError),_n("ERR_OUT_OF_RANGE",function(f,i,o){let p=`The value of "${f}" is out of range.`,_=o;return Number.isInteger(o)&&Math.abs(o)>2**32?_=di(String(o)):typeof o=="bigint"&&(_=String(o),(o>BigInt(2)**BigInt(32)||o<-(BigInt(2)**BigInt(32)))&&(_=di(_)),_+="n"),p+=` It must be ${i}. Received ${_}`,p},RangeError);function di(f){let i="",o=f.length;const p=f[0]==="-"?1:0;for(;o>=p+4;o-=3)i=`_${f.slice(o-3,o)}${i}`;return`${f.slice(0,o)}${i}`}function hu(f,i,o){$e(i,"offset"),(f[i]===void 0||f[i+o]===void 0)&&qe(i,f.length-(o+1))}function pi(f,i,o,p,_,E){if(f>o||f<i){const w=typeof i=="bigint"?"n":"";let $;throw i===0||i===BigInt(0)?$=`>= 0${w} and < 2${w} ** ${(E+1)*8}${w}`:$=`>= -(2${w} ** ${(E+1)*8-1}${w}) and < 2 ** ${(E+1)*8-1}${w}`,new ke.ERR_OUT_OF_RANGE("value",$,f)}hu(p,_,E)}function $e(f,i){if(typeof f!="number")throw new ke.ERR_INVALID_ARG_TYPE(i,"number",f)}function qe(f,i,o){throw Math.floor(f)!==f?($e(f,o),new ke.ERR_OUT_OF_RANGE("offset","an integer",f)):i<0?new ke.ERR_BUFFER_OUT_OF_BOUNDS:new ke.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${i}`,f)}const du=/[^+/0-9A-Za-z-_]/g;function pu(f){if(f=f.split("=")[0],f=f.trim().replace(du,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function mn(f,i){i=i||1/0;let o;const p=f.length;let _=null;const E=[];for(let w=0;w<p;++w){if(o=f.charCodeAt(w),o>55295&&o<57344){if(!_){if(o>56319){(i-=3)>-1&&E.push(239,191,189);continue}else if(w+1===p){(i-=3)>-1&&E.push(239,191,189);continue}_=o;continue}if(o<56320){(i-=3)>-1&&E.push(239,191,189),_=o;continue}o=(_-55296<<10|o-56320)+65536}else _&&(i-=3)>-1&&E.push(239,191,189);if(_=null,o<128){if((i-=1)<0)break;E.push(o)}else if(o<2048){if((i-=2)<0)break;E.push(o>>6|192,o&63|128)}else if(o<65536){if((i-=3)<0)break;E.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((i-=4)<0)break;E.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return E}function gu(f){const i=[];for(let o=0;o<f.length;++o)i.push(f.charCodeAt(o)&255);return i}function _u(f,i){let o,p,_;const E=[];for(let w=0;w<f.length&&!((i-=2)<0);++w)o=f.charCodeAt(w),p=o>>8,_=o%256,E.push(_),E.push(p);return E}function gi(f){return e.toByteArray(pu(f))}function yt(f,i,o,p){let _;for(_=0;_<p&&!(_+o>=i.length||_>=f.length);++_)i[_+o]=f[_];return _}function ae(f,i){return f instanceof i||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===i.name}function En(f){return f!==f}const mu=function(){const f="0123456789abcdef",i=new Array(256);for(let o=0;o<16;++o){const p=o*16;for(let _=0;_<16;++_)i[p+_]=f[o]+f[_]}return i}();function Ee(f){return typeof BigInt>"u"?Eu:f}function Eu(){throw new Error("BigInt not supported")}})(vn),typeof window<"u"&&window.Buffer===void 0&&(window.Buffer=vn.Buffer);var wn={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(h,u,g){this.fn=h,this.context=u,this.once=g||!1}function c(h,u,g,d,A){if(typeof g!="function")throw new TypeError("The listener must be a function");var m=new s(g,d||h,A),y=n?n+u:u;return h._events[y]?h._events[y].fn?h._events[y]=[h._events[y],m]:h._events[y].push(m):(h._events[y]=m,h._eventsCount++),h}function a(h,u){--h._eventsCount===0?h._events=new r:delete h._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],g,d;if(this._eventsCount===0)return u;for(d in g=this._events)e.call(g,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(g)):u},l.prototype.listeners=function(u){var g=n?n+u:u,d=this._events[g];if(!d)return[];if(d.fn)return[d.fn];for(var A=0,m=d.length,y=new Array(m);A<m;A++)y[A]=d[A].fn;return y},l.prototype.listenerCount=function(u){var g=n?n+u:u,d=this._events[g];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,g,d,A,m,y){var F=n?n+u:u;if(!this._events[F])return!1;var I=this._events[F],S=arguments.length,k,R;if(I.fn){switch(I.once&&this.removeListener(u,I.fn,void 0,!0),S){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,g),!0;case 3:return I.fn.call(I.context,g,d),!0;case 4:return I.fn.call(I.context,g,d,A),!0;case 5:return I.fn.call(I.context,g,d,A,m),!0;case 6:return I.fn.call(I.context,g,d,A,m,y),!0}for(R=1,k=new Array(S-1);R<S;R++)k[R-1]=arguments[R];I.fn.apply(I.context,k)}else{var Z=I.length,Q;for(R=0;R<Z;R++)switch(I[R].once&&this.removeListener(u,I[R].fn,void 0,!0),S){case 1:I[R].fn.call(I[R].context);break;case 2:I[R].fn.call(I[R].context,g);break;case 3:I[R].fn.call(I[R].context,g,d);break;case 4:I[R].fn.call(I[R].context,g,d,A);break;default:if(!k)for(Q=1,k=new Array(S-1);Q<S;Q++)k[Q-1]=arguments[Q];I[R].fn.apply(I[R].context,k)}}return!0},l.prototype.on=function(u,g,d){return c(this,u,g,d,!1)},l.prototype.once=function(u,g,d){return c(this,u,g,d,!0)},l.prototype.removeListener=function(u,g,d,A){var m=n?n+u:u;if(!this._events[m])return this;if(!g)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===g&&(!A||y.once)&&(!d||y.context===d)&&a(this,m);else{for(var F=0,I=[],S=y.length;F<S;F++)(y[F].fn!==g||A&&!y[F].once||d&&y[F].context!==d)&&I.push(y[F]);I.length?this._events[m]=I.length===1?I[0]:I:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var g;return u?(g=n?n+u:u,this._events[g]&&a(this,g)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(wn);var Li=wn.exports;const Ni=ze(Li);var Me;(function(t){t.Loading="Loading",t.NotFound="NotFound",t.Found="Found"})(Me||(Me={}));var ne;(function(t){t.Loading="Loading",t.NotFound="NotFound",t.Disconnect="Disconnected",t.Connected="Connected"})(ne||(ne={}));class Si extends Ni{get connected(){return this.state===ne.Connected}disconnect(){return console.info("The current adapter doesn't support disconnect by DApp."),Promise.resolve()}multiSign(...e){return Promise.reject("The current wallet doesn't support multiSign.")}switchChain(e){return Promise.reject("The current wallet doesn't support switch chain.")}}class Ne extends Error{constructor(e,n){super(e),this.error=n}}class bi extends Ne{constructor(){super(...arguments),this.name="WalletNotFoundError",this.message="The wallet is not found."}}class An extends Ne{constructor(){super(...arguments),this.name="WalletDisconnectedError",this.message="The wallet is disconnected. Please connect first."}}class Ti extends Ne{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Ri extends Ne{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Ci extends Ne{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Oi extends Ne{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}function Bi(){return typeof window<"u"&&typeof document<"u"&&typeof navigator<"u"}function Se(t){const e=[];return t.split("/").forEach(r=>{let s=parseInt(r,10);isNaN(s)||(r.length>1&&r[r.length-1]==="'"&&(s+=2147483648),e.push(s))}),e}function xn(t,e){function n(r,s,c){return r>=s.length?c:e(s[r],r).then(function(a){return c.push(a),n(r+1,s,c)})}return Promise.resolve().then(()=>n(0,t,[]))}function In(t,e){let n=0,r=0,s=e;for(;r<64;){const c=t[s];if(n|=(c&127)<<r,s+=1,!(c&128))return n&=4294967295,{value:n,pos:s};r+=7}throw new Error("Too many bytes when decoding varint.")}const Fi=t=>t.length%2?"0"+t:t;function Ln(t){const e=t.startsWith("0x")?t.slice(2):t;return Buffer.from(Fi(e),"hex")}const Di=224,Pi=(t,e,n,r)=>{const s=Ln(n),c=Ln(r),a=Se(e),l=Buffer.alloc(1+a.length*4+32+32,0);let h=0;return l[0]=a.length,a.forEach((u,g)=>{l.writeUint32BE(u,1+4*g)}),h=1+4*a.length,s.copy(l,h),h+=32,c.copy(l,h),t.send(Di,12,0,0,l).then(u=>u.slice(0,65).toString("hex"))},Ui=t=>(t&&t.statusCode,t),xt=4,It=1,be=224,ki=2,$i=4,Mi=5,Hi=8,Gi=10,ji=6,Ve=250;class qi{constructor(e,n="TRX"){this.transport=e,e.decorateAppAPIMethods(this,["getAddress","getECDHPairKey","signTransaction","signTransactionHash","signPersonalMessage","signTIP712HashedMessage","getAppConfiguration"],n)}getAddress(e,n){const r=Se(e),s=Buffer.alloc(It+r.length*xt);return s[0]=r.length,r.forEach((c,a)=>{s.writeUInt32BE(c,1+4*a)}),this.transport.send(be,ki,n?1:0,0,s).then(c=>{const a=c[0],l=c[1+a];return{publicKey:c.slice(1,1+a).toString("hex"),address:c.slice(1+a+1,1+a+1+l).toString("ascii")}})}getNextLength(e){const n=In(e,0),r=In(e,n.pos);return n.value&7?r.value+r.pos:r.pos}signTransaction(e,n,r){const s=Se(e);let c=Buffer.from(n,"hex");const a=[];let l=Buffer.alloc(It+s.length*xt);for(l[0]=s.length,s.forEach((d,A)=>{l.writeUInt32BE(d,1+4*A)});c.length>0;){const d=this.getNextLength(c);if(d>Ve)throw new Error("Too many bytes to encode.");if(l.length+d>Ve){a.push(l),l=Buffer.alloc(0);continue}l=Buffer.concat([l,c.slice(0,d)]),c=c.slice(d,c.length)}a.push(l);const h=[];let u;const g=a.length;if(r!==void 0)for(let d=0;d<r.length;d+=1){const A=Buffer.from(r[d],"hex");a.push(A)}if(a.length===1)h.push(16);else{h.push(0);for(let d=1;d<a.length-1;d+=1)d>=g?h.push(160|d-g):h.push(128);r!==void 0&&r.length?h.push(168|r.length-1):h.push(144)}return xn(a,(d,A)=>this.transport.send(be,$i,h[A],0,d).then(m=>{u=m})).then(()=>u.slice(0,65).toString("hex"),d=>{throw Ui(d)})}signTransactionHash(e,n){const r=Se(e);let s=Buffer.alloc(It+r.length*xt);return s[0]=r.length,r.forEach((c,a)=>{s.writeUInt32BE(c,1+4*a)}),s=Buffer.concat([s,Buffer.from(n,"hex")]),this.transport.send(be,Mi,0,0,s).then(c=>c.slice(0,65).toString("hex"))}getAppConfiguration(){return this.transport.send(be,ji,0,0).then(e=>{const n=(e[0]&8)>0;let r=(e[0]&4)>0,s=(e[0]&2)>0,c=(e[0]&1)>0;return e[1]===0&&e[2]===1&&e[3]<2&&(c=!0,s=!1),e[1]===0&&e[2]===1&&e[3]<5&&(r=!1),{version:`${e[1]}.${e[2]}.${e[3]}`,versionN:e[1]*1e4+e[2]*100+e[3],allowData:c,allowContract:s,truncateAddress:r,signByHash:n}})}signPersonalMessage(e,n){const r=Se(e),s=Buffer.from(n,"hex");let c=0;const a=[],l=s.length.toString(16),h="00000000".substr(l.length)+l,u=Buffer.concat([Buffer.from(h,"hex"),s]);for(;c<u.length;){const d=c===0?Ve-1-r.length*4:Ve,A=c+d>u.length?u.length-c:d,m=Buffer.alloc(c===0?1+r.length*4+A:A);c===0?(m[0]=r.length,r.forEach((y,F)=>{m.writeUInt32BE(y,1+4*F)}),u.copy(m,1+4*r.length,c,c+A)):u.copy(m,0,c,c+A),a.push(m),c+=A}let g;return xn(a,(d,A)=>this.transport.send(be,Hi,A===0?0:128,0,d).then(m=>{g=m})).then(()=>g.slice(0,65).toString("hex"))}signTIP712HashedMessage(e,n,r){return Pi(this.transport,e,n,r)}getECDHPairKey(e,n){const r=Se(e),s=Buffer.from(n,"hex"),c=Buffer.alloc(1+r.length*4+s.length);return c[0]=r.length,r.forEach((a,l)=>{c.writeUInt32BE(a,1+4*l)}),s.copy(c,1+4*r.length,0,s.length),this.transport.send(be,Gi,0,1,c).then(a=>a.slice(0,65).toString("hex"))}}var Lt={exports:{}},Te=typeof Reflect=="object"?Reflect:null,Nn=Te&&typeof Te.apply=="function"?Te.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Xe;Te&&typeof Te.ownKeys=="function"?Xe=Te.ownKeys:Object.getOwnPropertySymbols?Xe=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Xe=function(e){return Object.getOwnPropertyNames(e)};function zi(t){console&&console.warn&&console.warn(t)}var Sn=Number.isNaN||function(e){return e!==e};function M(){M.init.call(this)}Lt.exports=M,Lt.exports.once=Qi,M.EventEmitter=M,M.prototype._events=void 0,M.prototype._eventsCount=0,M.prototype._maxListeners=void 0;var bn=10;function Qe(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(M,"defaultMaxListeners",{enumerable:!0,get:function(){return bn},set:function(t){if(typeof t!="number"||t<0||Sn(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");bn=t}}),M.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},M.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Sn(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Tn(t){return t._maxListeners===void 0?M.defaultMaxListeners:t._maxListeners}M.prototype.getMaxListeners=function(){return Tn(this)},M.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=e==="error",c=this._events;if(c!==void 0)s=s&&c.error===void 0;else if(!s)return!1;if(s){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var h=c[e];if(h===void 0)return!1;if(typeof h=="function")Nn(h,this,n);else for(var u=h.length,g=Fn(h,u),r=0;r<u;++r)Nn(g[r],this,n);return!0};function Rn(t,e,n,r){var s,c,a;if(Qe(n),c=t._events,c===void 0?(c=t._events=Object.create(null),t._eventsCount=0):(c.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),c=t._events),a=c[e]),a===void 0)a=c[e]=n,++t._eventsCount;else if(typeof a=="function"?a=c[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),s=Tn(t),s>0&&a.length>s&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,zi(l)}return t}M.prototype.addListener=function(e,n){return Rn(this,e,n,!1)},M.prototype.on=M.prototype.addListener,M.prototype.prependListener=function(e,n){return Rn(this,e,n,!0)};function Wi(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Cn(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=Wi.bind(r);return s.listener=n,r.wrapFn=s,s}M.prototype.once=function(e,n){return Qe(n),this.on(e,Cn(this,e,n)),this},M.prototype.prependOnceListener=function(e,n){return Qe(n),this.prependListener(e,Cn(this,e,n)),this},M.prototype.removeListener=function(e,n){var r,s,c,a,l;if(Qe(n),s=this._events,s===void 0)return this;if(r=s[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(c=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){l=r[a].listener,c=a;break}if(c<0)return this;c===0?r.shift():Vi(r,c),r.length===1&&(s[e]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",e,l||n)}return this},M.prototype.off=M.prototype.removeListener,M.prototype.removeAllListeners=function(e){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var c=Object.keys(r),a;for(s=0;s<c.length;++s)a=c[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(e,n[s]);return this};function On(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?Xi(s):Fn(s,s.length)}M.prototype.listeners=function(e){return On(this,e,!0)},M.prototype.rawListeners=function(e){return On(this,e,!1)},M.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Bn.call(t,e)},M.prototype.listenerCount=Bn;function Bn(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}M.prototype.eventNames=function(){return this._eventsCount>0?Xe(this._events):[]};function Fn(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function Vi(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Xi(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Qi(t,e){return new Promise(function(n,r){function s(a){t.removeListener(e,c),r(a)}function c(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}Dn(t,e,c,{once:!0}),e!=="error"&&Ki(t,s,{once:!0})})}function Ki(t,e,n){typeof t.on=="function"&&Dn(t,"error",e,n)}function Dn(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(c){r.once&&t.removeEventListener(e,s),n(c)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Ji=Lt.exports;const Yi=ze(Ji),Pn={},Un={},Nt=(t,e)=>{Un[t]=e},v=t=>{class e extends Error{constructor(r,s,c){if(super(r||t,c),Object.setPrototypeOf(this,e.prototype),this.name=t,s)for(const a in s)this[a]=s[a];if(c&&Zi(c)&&"cause"in c&&!("cause"in this)){const a=c.cause;this.cause=a,"stack"in a&&(this.stack=this.stack+`
CAUSE: `+a.stack)}}}return Pn[t]=e,e};function Zi(t){return typeof t=="object"}const kn=t=>{if(t&&typeof t=="object"){try{if(typeof t.message=="string"){const n=JSON.parse(t.message);n.message&&n.name&&(t=n)}}catch{}let e;if(typeof t.name=="string"){const{name:n}=t,r=Un[n];if(r)e=r(t);else{let s=n==="Error"?Error:Pn[n];s||(console.warn("deserializing an unknown class '"+n+"'"),s=v(n)),e=Object.create(s.prototype);try{for(const c in t)t.hasOwnProperty(c)&&(e[c]=t[c])}catch{}}}else typeof t.message=="string"&&(e=new Error(t.message));return e&&!e.stack&&Error.captureStackTrace&&Error.captureStackTrace(e,kn),e}return new Error(String(t))},eo=t=>t&&(typeof t=="object"?$n(t,[]):typeof t=="function"?`[Function: ${t.name||"anonymous"}]`:t);function $n(t,e){const n={};e.push(t);for(const r of Object.keys(t)){const s=t[r];if(typeof s!="function"){if(!s||typeof s!="object"){n[r]=s;continue}if(e.indexOf(t[r])===-1){n[r]=$n(t[r],e.slice(0));continue}n[r]="[Circular]"}}return typeof t.name=="string"&&(n.name=t.name),typeof t.message=="string"&&(n.message=t.message),typeof t.stack=="string"&&(n.stack=t.stack),n}const to=v("AccountNameRequired"),no=v("AccountNotSupported"),ro=v("AccountAwaitingSendPendingOperations"),io=v("AmountRequired"),oo=v("BluetoothRequired"),so=v("BtcUnmatchedApp"),co=v("CantOpenDevice"),ao=v("CashAddrNotSupported"),lo=v("ClaimRewardsFeesWarning"),uo=v("CurrencyNotSupported"),fo=v("DeviceAppVerifyNotSupported"),ho=v("DeviceGenuineSocketEarlyClose"),po=v("DeviceNotGenuine"),go=v("DeviceOnDashboardExpected"),_o=v("DeviceOnDashboardUnexpected"),mo=v("DeviceInOSUExpected"),Eo=v("DeviceHalted"),vo=v("DeviceNameInvalid"),yo=v("DeviceSocketFail"),wo=v("DeviceSocketNoBulkStatus"),Ao=v("DeviceSocketNoBulkStatus"),xo=v("UnresponsiveDeviceError"),Mn=v("DisconnectedDevice"),Hn=v("DisconnectedDeviceDuringOperation"),Io=v("DeviceExtractOnboardingStateError"),Lo=v("DeviceOnboardingStatePollingError"),No=v("EnpointConfig"),So=v("EthAppPleaseEnableContractData"),bo=v("FeeEstimationFailed"),To=v("FirmwareNotRecognized"),Ro=v("HardResetFail"),Co=v("InvalidXRPTag"),Oo=v("InvalidAddress"),Bo=v("InvalidNonce"),Fo=v("InvalidAddressBecauseDestinationIsAlsoSource"),Do=v("LatestMCUInstalledError"),Po=v("UnknownMCU"),Uo=v("LedgerAPIError"),ko=v("LedgerAPIErrorWithMessage"),$o=v("LedgerAPINotAvailable"),Mo=v("ManagerAppAlreadyInstalled"),Ho=v("ManagerAppRelyOnBTC"),Go=v("ManagerAppDepInstallRequired"),jo=v("ManagerAppDepUninstallRequired"),qo=v("ManagerDeviceLocked"),zo=v("ManagerFirmwareNotEnoughSpace"),Wo=v("ManagerNotEnoughSpace"),Vo=v("ManagerUninstallBTCDep"),Xo=v("NetworkDown"),Qo=v("NetworkError"),Ko=v("NoAddressesFound"),Jo=v("NotEnoughBalance"),Yo=v("NotEnoughBalanceSwap"),Zo=v("NotEnoughBalanceToDelegate"),es=v("NotEnoughBalanceInParentAccount"),ts=v("NotEnoughSpendableBalance"),ns=v("NotEnoughBalanceBecauseDestinationNotCreated"),rs=v("NoAccessToCamera"),is=v("NotEnoughGas"),os=v("NotEnoughGasSwap"),ss=v("TronEmptyAccount"),cs=v("MaybeKeepTronAccountAlive"),as=v("NotSupportedLegacyAddress"),ls=v("GasLessThanEstimate"),us=v("PriorityFeeTooLow"),fs=v("PriorityFeeTooHigh"),hs=v("PriorityFeeHigherThanMaxFee"),ds=v("MaxFeeTooLow"),ps=v("PasswordsDontMatch"),gs=v("PasswordIncorrect"),_s=v("RecommendSubAccountsToEmpty"),ms=v("RecommendUndelegation"),Es=v("TimeoutTagged"),vs=v("UnexpectedBootloader"),ys=v("MCUNotGenuineToDashboard"),ws=v("RecipientRequired"),As=v("UnavailableTezosOriginatedAccountReceive"),xs=v("UnavailableTezosOriginatedAccountSend"),Is=v("UpdateFetchFileFail"),Ls=v("UpdateIncorrectHash"),Ns=v("UpdateIncorrectSig"),Ss=v("UpdateYourApp"),bs=v("UserRefusedDeviceNameChange"),Ts=v("UserRefusedAddress"),Rs=v("UserRefusedFirmwareUpdate"),Cs=v("UserRefusedAllowManager"),Os=v("UserRefusedOnDevice"),Bs=v("PinNotSet"),Fs=v("ExpertModeRequired"),St=v("TransportOpenUserCancelled"),Ds=v("TransportInterfaceNotAvailable"),Gn=v("TransportRaceCondition"),Ps=v("TransportWebUSBGestureRequired"),Us=v("TransactionHasBeenValidatedError"),ks=v("TransportExchangeTimeoutError"),$s=v("DeviceShouldStayInApp"),Ms=v("WebsocketConnectionError"),Hs=v("WebsocketConnectionFailed"),Gs=v("WrongDeviceForAccount"),js=v("WrongDeviceForAccountPayout"),qs=v("WrongDeviceForAccountRefund"),zs=v("WrongAppForCurrency"),Ws=v("ETHAddressNonEIP"),Vs=v("CantScanQRCode"),Xs=v("FeeNotLoaded"),Qs=v("FeeNotLoadedSwap"),Ks=v("FeeRequired"),Js=v("FeeTooHigh"),Ys=v("PendingOperation"),Zs=v("SyncError"),ec=v("PairingFailed"),tc=v("PeerRemovedPairing"),nc=v("GenuineCheckFailed"),rc=v("LedgerAPI4xx"),ic=v("LedgerAPI5xx"),oc=v("FirmwareOrAppUpdateRequired"),sc=v("ReplacementTransactionUnderpriced"),cc=v("OpReturnSizeLimit"),ac=v("DustLimit"),lc=v("LanguageNotFound"),uc=v("NoDBPathGiven"),fc=v("DBWrongPassword"),hc=v("DBNotReset"),dc=v("SequenceNumberError"),pc=v("DisabledTransactionBroadcastError");var bt;(function(t){t.Unknown="Unknown",t.LocationServicesDisabled="LocationServicesDisabled",t.LocationServicesUnauthorized="LocationServicesUnauthorized",t.BluetoothScanStartFailed="BluetoothScanStartFailed"})(bt||(bt={}));class Tt extends Error{constructor(e,n){super(n),this.name="HwTransportError",this.type=e,Object.setPrototypeOf(this,Tt.prototype)}}class ve extends Error{constructor(e,n){const r="TransportError";super(e||r),this.name=r,this.message=e,this.stack=new Error(e).stack,this.id=n}}Nt("TransportError",t=>new ve(t.message,t.id));const Re={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function jn(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}class Ce extends Error{constructor(e,{canBeMappedToChildError:n=!0}={}){const r=Object.keys(Re).find(l=>Re[l]===e)||"UNKNOWN_ERROR",s=jn(e)||r,c=e.toString(16),a=`Ledger device: ${s} (0x${c})`;if(super(a),this.name="TransportStatusError",this.statusCode=e,this.statusText=r,Object.setPrototypeOf(this,Ce.prototype),n&&e===Re.LOCKED_DEVICE)return new Ke(a)}}class Ke extends Ce{constructor(e){super(Re.LOCKED_DEVICE,{canBeMappedToChildError:!1}),e&&(this.message=e),this.name="LockedDeviceError",Object.setPrototypeOf(this,Ke.prototype)}}Nt("TransportStatusError",t=>new Ce(t.statusCode));const gc=Object.freeze(Object.defineProperty({__proto__:null,AccountAwaitingSendPendingOperations:ro,AccountNameRequiredError:to,AccountNotSupported:no,AmountRequired:io,BluetoothRequired:oo,BtcUnmatchedApp:so,CantOpenDevice:co,CantScanQRCode:Vs,CashAddrNotSupported:ao,ClaimRewardsFeesWarning:lo,CurrencyNotSupported:uo,DBNotReset:hc,DBWrongPassword:fc,DeviceAppVerifyNotSupported:fo,DeviceExtractOnboardingStateError:Io,DeviceGenuineSocketEarlyClose:ho,DeviceHalted:Eo,DeviceInOSUExpected:mo,DeviceNameInvalid:vo,DeviceNeedsRestart:Ao,DeviceNotGenuineError:po,DeviceOnDashboardExpected:go,DeviceOnDashboardUnexpected:_o,DeviceOnboardingStatePollingError:Lo,DeviceShouldStayInApp:$s,DeviceSocketFail:yo,DeviceSocketNoBulkStatus:wo,DisabledTransactionBroadcastError:pc,DisconnectedDevice:Mn,DisconnectedDeviceDuringOperation:Hn,DustLimit:ac,ETHAddressNonEIP:Ws,EnpointConfigError:No,EthAppPleaseEnableContractData:So,ExpertModeRequired:Fs,FeeEstimationFailed:bo,FeeNotLoaded:Xs,FeeNotLoadedSwap:Qs,FeeRequired:Ks,FeeTooHigh:Js,FirmwareNotRecognized:To,FirmwareOrAppUpdateRequired:oc,GasLessThanEstimate:ls,GenuineCheckFailed:nc,HardResetFail:Ro,HwTransportError:Tt,get HwTransportErrorType(){return bt},InvalidAddress:Oo,InvalidAddressBecauseDestinationIsAlsoSource:Fo,InvalidNonce:Bo,InvalidXRPTag:Co,LanguageNotFound:lc,LatestMCUInstalledError:Do,LedgerAPI4xx:rc,LedgerAPI5xx:ic,LedgerAPIError:Uo,LedgerAPIErrorWithMessage:ko,LedgerAPINotAvailable:$o,LockedDeviceError:Ke,MCUNotGenuineToDashboard:ys,ManagerAppAlreadyInstalledError:Mo,ManagerAppDepInstallRequired:Go,ManagerAppDepUninstallRequired:jo,ManagerAppRelyOnBTCError:Ho,ManagerDeviceLockedError:qo,ManagerFirmwareNotEnoughSpaceError:zo,ManagerNotEnoughSpaceError:Wo,ManagerUninstallBTCDep:Vo,MaxFeeTooLow:ds,MaybeKeepTronAccountAlive:cs,NetworkDown:Xo,NetworkError:Qo,NoAccessToCamera:rs,NoAddressesFound:Ko,NoDBPathGiven:uc,NotEnoughBalance:Jo,NotEnoughBalanceBecauseDestinationNotCreated:ns,NotEnoughBalanceInParentAccount:es,NotEnoughBalanceSwap:Yo,NotEnoughBalanceToDelegate:Zo,NotEnoughGas:is,NotEnoughGasSwap:os,NotEnoughSpendableBalance:ts,NotSupportedLegacyAddress:as,OpReturnDataSizeLimit:cc,PairingFailed:ec,PasswordIncorrectError:gs,PasswordsDontMatchError:ps,PeerRemovedPairing:tc,PendingOperation:Ys,PinNotSet:Bs,PriorityFeeHigherThanMaxFee:hs,PriorityFeeTooHigh:fs,PriorityFeeTooLow:us,RecipientRequired:ws,RecommendSubAccountsToEmpty:_s,RecommendUndelegation:ms,ReplacementTransactionUnderpriced:sc,SequenceNumberError:dc,StatusCodes:Re,SyncError:Zs,TimeoutTagged:Es,TransactionHasBeenValidatedError:Us,TransportError:ve,TransportExchangeTimeoutError:ks,TransportInterfaceNotAvailable:Ds,TransportOpenUserCancelled:St,TransportRaceCondition:Gn,TransportStatusError:Ce,TransportWebUSBGestureRequired:Ps,TronEmptyAccount:ss,UnavailableTezosOriginatedAccountReceive:As,UnavailableTezosOriginatedAccountSend:xs,UnexpectedBootloader:vs,UnknownMCU:Po,UnresponsiveDeviceError:xo,UpdateFetchFileFail:Is,UpdateIncorrectHash:Ls,UpdateIncorrectSig:Ns,UpdateYourApp:Ss,UserRefusedAddress:Ts,UserRefusedAllowManager:Cs,UserRefusedDeviceNameChange:bs,UserRefusedFirmwareUpdate:Rs,UserRefusedOnDevice:Os,WebsocketConnectionError:Ms,WebsocketConnectionFailed:Hs,WrongAppForCurrency:zs,WrongDeviceForAccount:Gs,WrongDeviceForAccountPayout:js,WrongDeviceForAccountRefund:qs,addCustomErrorDeserializer:Nt,createCustomErrorClass:v,deserializeError:kn,getAltStatusMessage:jn,serializeError:eo},Symbol.toStringTag,{value:"Module"}));var Rt=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(a){a(c)})}return new(n||(n=Promise))(function(c,a){function l(g){try{u(r.next(g))}catch(d){a(d)}}function h(g){try{u(r.throw(g))}catch(d){a(d)}}function u(g){g.done?c(g.value):s(g.value).then(l,h)}u((r=r.apply(t,e||[])).next())})},Ct=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(g){return h([u,g])}}function h(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(c=u[0]&2?s.return:u[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,u[1])).done)return c;switch(s=0,c&&(u=[u[0]&2,c.value]),u[0]){case 0:case 1:c=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!c||u[1]>c[0]&&u[1]<c[3])){n.label=u[1];break}if(u[0]===6&&n.label<c[1]){n.label=c[1],c=u;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(u);break}c[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],s=0}finally{r=c=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},_c=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,c=[],a;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)c.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return c},mc=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,c;r<s;r++)(c||!(r in e))&&(c||(c=Array.prototype.slice.call(e,0,r)),c[r]=e[r]);return t.concat(c||Array.prototype.slice.call(e))},Ec=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vc=function(){function t(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new Yi,this.send=function(n,r,s,c,a,l){return a===void 0&&(a=Buffer.alloc(0)),l===void 0&&(l=[Re.OK]),Rt(e,void 0,void 0,function(){var h,u;return Ct(this,function(g){switch(g.label){case 0:if(a.length>=256)throw new ve("data.length exceed 256 bytes limit. Got: "+a.length,"DataLengthTooBig");return[4,this.exchange(Buffer.concat([Buffer.from([n,r,s,c]),Buffer.from([a.length]),a]))];case 1:if(h=g.sent(),u=h.readUInt16BE(h.length-2),!l.some(function(d){return d===u}))throw new Ce(u);return[2,h]}})})},this.exchangeAtomicImpl=function(n){return Rt(e,void 0,void 0,function(){var r,s,c,a,l,h=this;return Ct(this,function(u){switch(u.label){case 0:if(this.exchangeBusyPromise)throw new Gn("An action was already pending on the Ledger device. Please deny or reconnect.");s=new Promise(function(g){r=g}),this.exchangeBusyPromise=s,c=!1,a=setTimeout(function(){c=!0,h.emit("unresponsive")},this.unresponsiveTimeout),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,n()];case 2:return l=u.sent(),c&&this.emit("responsive"),[2,l];case 3:return clearTimeout(a),r&&r(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return t.prototype.exchange=function(e){throw new Error("exchange not implemented")},t.prototype.setScrambleKey=function(e){},t.prototype.close=function(){return Promise.resolve()},t.prototype.on=function(e,n){this._events.on(e,n)},t.prototype.off=function(e,n){this._events.removeListener(e,n)},t.prototype.emit=function(e){for(var n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];(n=this._events).emit.apply(n,mc([e],_c(r),!1))},t.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},t.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},t.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},t.create=function(e,n){var r=this;return e===void 0&&(e=3e3),new Promise(function(s,c){var a=!1,l=r.listen({next:function(u){a=!0,l&&l.unsubscribe(),h&&clearTimeout(h),r.open(u.descriptor,e).then(s,c)},error:function(u){h&&clearTimeout(h),c(u)},complete:function(){h&&clearTimeout(h),a||c(new ve(r.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),h=n?setTimeout(function(){l.unsubscribe(),c(new ve(r.ErrorMessage_ListenTimeout,"ListenTimeout"))},n):null})},t.prototype.decorateAppAPIMethods=function(e,n,r){var s,c;try{for(var a=Ec(n),l=a.next();!l.done;l=a.next()){var h=l.value;e[h]=this.decorateAppAPIMethod(h,e[h],e,r)}}catch(u){s={error:u}}finally{try{l&&!l.done&&(c=a.return)&&c.call(a)}finally{if(s)throw s.error}}},t.prototype.decorateAppAPIMethod=function(e,n,r,s){var c=this;return function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return Rt(c,void 0,void 0,function(){var h;return Ct(this,function(u){switch(u.label){case 0:if(h=this._appAPIlock,h)return[2,Promise.reject(new ve("Ledger Device is busy (lock "+h+")","TransportLocked"))];u.label=1;case 1:return u.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(s),[4,n.apply(r,a)];case 2:return[2,u.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},t.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",t.ErrorMessage_NoDeviceFound="No Ledger device found",t}(),qn={};const yc=_i(gc);(function(t){t.__esModule=!0;var e=yc,n=5;function r(a){var l=Buffer.alloc(2);return l.writeUInt16BE(a,0),l}var s={data:Buffer.alloc(0),dataLength:0,sequence:0},c=function(a,l){return{makeBlocks:function(h){var u=Buffer.concat([r(h.length),h]),g=l-5,d=Math.ceil(u.length/g);u=Buffer.concat([u,Buffer.alloc(d*g-u.length+1).fill(0)]);for(var A=[],m=0;m<d;m++){var y=Buffer.alloc(5);y.writeUInt16BE(a,0),y.writeUInt8(n,2),y.writeUInt16BE(m,3);var F=u.slice(m*g,(m+1)*g);A.push(Buffer.concat([y,F]))}return A},reduceResponse:function(h,u){var g=h||s,d=g.data,A=g.dataLength,m=g.sequence;if(u.readUInt16BE(0)!==a)throw new e.TransportError("Invalid channel","InvalidChannel");if(u.readUInt8(2)!==n)throw new e.TransportError("Invalid tag","InvalidTag");if(u.readUInt16BE(3)!==m)throw new e.TransportError("Invalid sequence","InvalidSequence");h||(A=u.readUInt16BE(5)),m++;var y=u.slice(h?5:7);return d=Buffer.concat([d,y]),d.length>A&&(d=d.slice(0,A)),{data:d,dataLength:A,sequence:m}},getReducedResult:function(h){if(h&&h.dataLength===h.data.length)return h.data}}};t.default=c})(qn);const wc=ze(qn);var Ot={exports:{}};const Ac="2.0.0",zn=256,xc=Number.MAX_SAFE_INTEGER||9007199254740991,Ic=16,Lc=zn-6;var Je={MAX_LENGTH:zn,MAX_SAFE_COMPONENT_LENGTH:Ic,MAX_SAFE_BUILD_LENGTH:Lc,MAX_SAFE_INTEGER:xc,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:Ac,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Bt={},Ye=typeof process=="object"&&Bt&&Bt.NODE_DEBUG&&/\bsemver\b/i.test(Bt.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=Je,c=Ye;e=t.exports={};const a=e.re=[],l=e.safeRe=[],h=e.src=[],u=e.t={};let g=0;const d="[a-zA-Z0-9-]",A=[["\\s",1],["\\d",s],[d,r]],m=F=>{for(const[I,S]of A)F=F.split(`${I}*`).join(`${I}{0,${S}}`).split(`${I}+`).join(`${I}{1,${S}}`);return F},y=(F,I,S)=>{const k=m(I),R=g++;c(F,R,I),u[F]=R,h[R]=I,a[R]=new RegExp(I,S?"g":void 0),l[R]=new RegExp(k,S?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),y("MAINVERSION",`(${h[u.NUMERICIDENTIFIER]})\\.(${h[u.NUMERICIDENTIFIER]})\\.(${h[u.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${h[u.NUMERICIDENTIFIERLOOSE]})\\.(${h[u.NUMERICIDENTIFIERLOOSE]})\\.(${h[u.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${h[u.NUMERICIDENTIFIER]}|${h[u.NONNUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${h[u.NUMERICIDENTIFIERLOOSE]}|${h[u.NONNUMERICIDENTIFIER]})`),y("PRERELEASE",`(?:-(${h[u.PRERELEASEIDENTIFIER]}(?:\\.${h[u.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${h[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${h[u.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${d}+`),y("BUILD",`(?:\\+(${h[u.BUILDIDENTIFIER]}(?:\\.${h[u.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${h[u.MAINVERSION]}${h[u.PRERELEASE]}?${h[u.BUILD]}?`),y("FULL",`^${h[u.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${h[u.MAINVERSIONLOOSE]}${h[u.PRERELEASELOOSE]}?${h[u.BUILD]}?`),y("LOOSE",`^${h[u.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${h[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${h[u.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${h[u.XRANGEIDENTIFIER]})(?:\\.(${h[u.XRANGEIDENTIFIER]})(?:\\.(${h[u.XRANGEIDENTIFIER]})(?:${h[u.PRERELEASE]})?${h[u.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${h[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[u.XRANGEIDENTIFIERLOOSE]})(?:${h[u.PRERELEASELOOSE]})?${h[u.BUILD]}?)?)?`),y("XRANGE",`^${h[u.GTLT]}\\s*${h[u.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${h[u.GTLT]}\\s*${h[u.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),y("COERCE",`${h[u.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",h[u.COERCEPLAIN]+`(?:${h[u.PRERELEASE]})?(?:${h[u.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",h[u.COERCE],!0),y("COERCERTLFULL",h[u.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${h[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",y("TILDE",`^${h[u.LONETILDE]}${h[u.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${h[u.LONETILDE]}${h[u.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${h[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",y("CARET",`^${h[u.LONECARET]}${h[u.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${h[u.LONECARET]}${h[u.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${h[u.GTLT]}\\s*(${h[u.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${h[u.GTLT]}\\s*(${h[u.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${h[u.GTLT]}\\s*(${h[u.LOOSEPLAIN]}|${h[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${h[u.XRANGEPLAIN]})\\s+-\\s+(${h[u.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${h[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${h[u.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ot,Ot.exports);var He=Ot.exports;const Nc=Object.freeze({loose:!0}),Sc=Object.freeze({});var Ft=t=>t?typeof t!="object"?Nc:t:Sc;const Wn=/^[0-9]+$/,Vn=(t,e)=>{const n=Wn.test(t),r=Wn.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1};var Xn={compareIdentifiers:Vn,rcompareIdentifiers:(t,e)=>Vn(e,t)};const Ze=Ye,{MAX_LENGTH:Qn,MAX_SAFE_INTEGER:et}=Je,{safeRe:Kn,t:Jn}=He,bc=Ft,{compareIdentifiers:Oe}=Xn;var Y=class le{constructor(e,n){if(n=bc(n),e instanceof le){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Qn)throw new TypeError(`version is longer than ${Qn} characters`);Ze("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?Kn[Jn.LOOSE]:Kn[Jn.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>et||this.major<0)throw new TypeError("Invalid major version");if(this.minor>et||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>et||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const c=+s;if(c>=0&&c<et)return c}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ze("SemVer.compare",this.version,this.options,e),!(e instanceof le)){if(typeof e=="string"&&e===this.version)return 0;e=new le(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof le||(e=new le(e,this.options)),Oe(this.major,e.major)||Oe(this.minor,e.minor)||Oe(this.patch,e.patch)}comparePre(e){if(e instanceof le||(e=new le(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],s=e.prerelease[n];if(Ze("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Oe(r,s)}while(++n)}compareBuild(e){e instanceof le||(e=new le(e,this.options));let n=0;do{const r=this.build[n],s=e.build[n];if(Ze("build compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Oe(r,s)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let c=this.prerelease.length;for(;--c>=0;)typeof this.prerelease[c]=="number"&&(this.prerelease[c]++,c=-2);if(c===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let c=[n,s];r===!1&&(c=[n]),Oe(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=c):this.prerelease=c}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};const Yn=Y;var Be=(t,e,n=!1)=>{if(t instanceof Yn)return t;try{return new Yn(t,e)}catch(r){if(!n)return null;throw r}};const Tc=Be;var Rc=(t,e)=>{const n=Tc(t,e);return n?n.version:null};const Cc=Be;var Oc=(t,e)=>{const n=Cc(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};const Zn=Y;var Bc=(t,e,n,r,s)=>{typeof n=="string"&&(s=r,r=n,n=void 0);try{return new Zn(t instanceof Zn?t.version:t,n).inc(e,r,s).version}catch{return null}};const er=Be;var Fc=(t,e)=>{const n=er(t,null,!0),r=er(e,null,!0),s=n.compare(r);if(s===0)return null;const c=s>0,a=c?n:r,l=c?r:n,h=!!a.prerelease.length;if(!!l.prerelease.length&&!h)return!l.patch&&!l.minor?"major":a.patch?"patch":a.minor?"minor":"major";const g=h?"pre":"";return n.major!==r.major?g+"major":n.minor!==r.minor?g+"minor":n.patch!==r.patch?g+"patch":"prerelease"};const Dc=Y;var Pc=(t,e)=>new Dc(t,e).major;const Uc=Y;var kc=(t,e)=>new Uc(t,e).minor;const $c=Y;var Mc=(t,e)=>new $c(t,e).patch;const Hc=Be;var Gc=(t,e)=>{const n=Hc(t,e);return n&&n.prerelease.length?n.prerelease:null};const tr=Y;var re=(t,e,n)=>new tr(t,n).compare(new tr(e,n));const jc=re;var qc=(t,e,n)=>jc(e,t,n);const zc=re;var Wc=(t,e)=>zc(t,e,!0);const nr=Y;var Dt=(t,e,n)=>{const r=new nr(t,n),s=new nr(e,n);return r.compare(s)||r.compareBuild(s)};const Vc=Dt;var Xc=(t,e)=>t.sort((n,r)=>Vc(n,r,e));const Qc=Dt;var Kc=(t,e)=>t.sort((n,r)=>Qc(r,n,e));const Jc=re;var tt=(t,e,n)=>Jc(t,e,n)>0;const Yc=re;var Pt=(t,e,n)=>Yc(t,e,n)<0;const Zc=re;var rr=(t,e,n)=>Zc(t,e,n)===0;const ea=re;var ir=(t,e,n)=>ea(t,e,n)!==0;const ta=re;var Ut=(t,e,n)=>ta(t,e,n)>=0;const na=re;var kt=(t,e,n)=>na(t,e,n)<=0;const ra=rr,ia=ir,oa=tt,sa=Ut,ca=Pt,aa=kt;var or=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return ra(t,n,r);case"!=":return ia(t,n,r);case">":return oa(t,n,r);case">=":return sa(t,n,r);case"<":return ca(t,n,r);case"<=":return aa(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};const la=Y,ua=Be,{safeRe:nt,t:rt}=He;var fa=(t,e)=>{if(t instanceof la)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?nt[rt.COERCEFULL]:nt[rt.COERCE]);else{const h=e.includePrerelease?nt[rt.COERCERTLFULL]:nt[rt.COERCERTL];let u;for(;(u=h.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||u.index+u[0].length!==n.index+n[0].length)&&(n=u),h.lastIndex=u.index+u[1].length+u[2].length;h.lastIndex=-1}if(n===null)return null;const r=n[2],s=n[3]||"0",c=n[4]||"0",a=e.includePrerelease&&n[5]?`-${n[5]}`:"",l=e.includePrerelease&&n[6]?`+${n[6]}`:"";return ua(`${r}.${s}.${c}${a}${l}`,e)};class ha{constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(e,n)}return this}}var da=ha,$t,sr;function ie(){if(sr)return $t;sr=1;const t=/\s+/g;class e{constructor(x,O){if(O=s(O),x instanceof e)return x.loose===!!O.loose&&x.includePrerelease===!!O.includePrerelease?x:new e(x.raw,O);if(x instanceof c)return this.raw=x.value,this.set=[[x]],this.formatted=void 0,this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=x.trim().replace(t," "),this.set=this.raw.split("||").map(b=>this.parseRange(b.trim())).filter(b=>b.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const b=this.set[0];if(this.set=this.set.filter(B=>!F(B[0])),this.set.length===0)this.set=[b];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&I(B[0])){this.set=[B];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let x=0;x<this.set.length;x++){x>0&&(this.formatted+="||");const O=this.set[x];for(let b=0;b<O.length;b++)b>0&&(this.formatted+=" "),this.formatted+=O[b].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(x){const b=((this.options.includePrerelease&&m)|(this.options.loose&&y))+":"+x,B=r.get(b);if(B)return B;const T=this.options.loose,P=T?h[u.HYPHENRANGELOOSE]:h[u.HYPHENRANGE];x=x.replace(P,pn(this.options.includePrerelease)),a("hyphen replace",x),x=x.replace(h[u.COMPARATORTRIM],g),a("comparator trim",x),x=x.replace(h[u.TILDETRIM],d),a("tilde trim",x),x=x.replace(h[u.CARETTRIM],A),a("caret trim",x);let D=x.split(" ").map(q=>k(q,this.options)).join(" ").split(/\s+/).map(q=>_e(q,this.options));T&&(D=D.filter(q=>(a("loose invalid filter",q,this.options),!!q.match(h[u.COMPARATORLOOSE])))),a("range list",D);const C=new Map,G=D.map(q=>new c(q,this.options));for(const q of G){if(F(q))return[q];C.set(q.value,q)}C.size>1&&C.has("")&&C.delete("");const J=[...C.values()];return r.set(b,J),J}intersects(x,O){if(!(x instanceof e))throw new TypeError("a Range is required");return this.set.some(b=>S(b,O)&&x.set.some(B=>S(B,O)&&b.every(T=>B.every(P=>T.intersects(P,O)))))}test(x){if(!x)return!1;if(typeof x=="string")try{x=new l(x,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(gn(this.set[O],x,this.options))return!0;return!1}}$t=e;const n=da,r=new n,s=Ft,c=it(),a=Ye,l=Y,{safeRe:h,t:u,comparatorTrimReplace:g,tildeTrimReplace:d,caretTrimReplace:A}=He,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=Je,F=N=>N.value==="<0.0.0-0",I=N=>N.value==="",S=(N,x)=>{let O=!0;const b=N.slice();let B=b.pop();for(;O&&b.length;)O=b.every(T=>B.intersects(T,x)),B=b.pop();return O},k=(N,x)=>(a("comp",N,x),N=ce(N,x),a("caret",N),N=Z(N,x),a("tildes",N),N=ge(N,x),a("xrange",N),N=ee(N,x),a("stars",N),N),R=N=>!N||N.toLowerCase()==="x"||N==="*",Z=(N,x)=>N.trim().split(/\s+/).map(O=>Q(O,x)).join(" "),Q=(N,x)=>{const O=x.loose?h[u.TILDELOOSE]:h[u.TILDE];return N.replace(O,(b,B,T,P,D)=>{a("tilde",N,b,B,T,P,D);let C;return R(B)?C="":R(T)?C=`>=${B}.0.0 <${+B+1}.0.0-0`:R(P)?C=`>=${B}.${T}.0 <${B}.${+T+1}.0-0`:D?(a("replaceTilde pr",D),C=`>=${B}.${T}.${P}-${D} <${B}.${+T+1}.0-0`):C=`>=${B}.${T}.${P} <${B}.${+T+1}.0-0`,a("tilde return",C),C})},ce=(N,x)=>N.trim().split(/\s+/).map(O=>xe(O,x)).join(" "),xe=(N,x)=>{a("caret",N,x);const O=x.loose?h[u.CARETLOOSE]:h[u.CARET],b=x.includePrerelease?"-0":"";return N.replace(O,(B,T,P,D,C)=>{a("caret",N,B,T,P,D,C);let G;return R(T)?G="":R(P)?G=`>=${T}.0.0${b} <${+T+1}.0.0-0`:R(D)?T==="0"?G=`>=${T}.${P}.0${b} <${T}.${+P+1}.0-0`:G=`>=${T}.${P}.0${b} <${+T+1}.0.0-0`:C?(a("replaceCaret pr",C),T==="0"?P==="0"?G=`>=${T}.${P}.${D}-${C} <${T}.${P}.${+D+1}-0`:G=`>=${T}.${P}.${D}-${C} <${T}.${+P+1}.0-0`:G=`>=${T}.${P}.${D}-${C} <${+T+1}.0.0-0`):(a("no pr"),T==="0"?P==="0"?G=`>=${T}.${P}.${D}${b} <${T}.${P}.${+D+1}-0`:G=`>=${T}.${P}.${D}${b} <${T}.${+P+1}.0-0`:G=`>=${T}.${P}.${D} <${+T+1}.0.0-0`),a("caret return",G),G})},ge=(N,x)=>(a("replaceXRanges",N,x),N.split(/\s+/).map(O=>Ie(O,x)).join(" ")),Ie=(N,x)=>{N=N.trim();const O=x.loose?h[u.XRANGELOOSE]:h[u.XRANGE];return N.replace(O,(b,B,T,P,D,C)=>{a("xRange",N,b,B,T,P,D,C);const G=R(T),J=G||R(P),q=J||R(D),me=q;return B==="="&&me&&(B=""),C=x.includePrerelease?"-0":"",G?B===">"||B==="<"?b="<0.0.0-0":b="*":B&&me?(J&&(P=0),D=0,B===">"?(B=">=",J?(T=+T+1,P=0,D=0):(P=+P+1,D=0)):B==="<="&&(B="<",J?T=+T+1:P=+P+1),B==="<"&&(C="-0"),b=`${B+T}.${P}.${D}${C}`):J?b=`>=${T}.0.0${C} <${+T+1}.0.0-0`:q&&(b=`>=${T}.${P}.0${C} <${T}.${+P+1}.0-0`),a("xRange return",b),b})},ee=(N,x)=>(a("replaceStars",N,x),N.trim().replace(h[u.STAR],"")),_e=(N,x)=>(a("replaceGTE0",N,x),N.trim().replace(h[x.includePrerelease?u.GTE0PRE:u.GTE0],"")),pn=N=>(x,O,b,B,T,P,D,C,G,J,q,me)=>(R(b)?O="":R(B)?O=`>=${b}.0.0${N?"-0":""}`:R(T)?O=`>=${b}.${B}.0${N?"-0":""}`:P?O=`>=${O}`:O=`>=${O}${N?"-0":""}`,R(G)?C="":R(J)?C=`<${+G+1}.0.0-0`:R(q)?C=`<${G}.${+J+1}.0-0`:me?C=`<=${G}.${J}.${q}-${me}`:N?C=`<${G}.${J}.${+q+1}-0`:C=`<=${C}`,`${O} ${C}`.trim()),gn=(N,x,O)=>{for(let b=0;b<N.length;b++)if(!N[b].test(x))return!1;if(x.prerelease.length&&!O.includePrerelease){for(let b=0;b<N.length;b++)if(a(N[b].semver),N[b].semver!==c.ANY&&N[b].semver.prerelease.length>0){const B=N[b].semver;if(B.major===x.major&&B.minor===x.minor&&B.patch===x.patch)return!0}return!1}return!0};return $t}var Mt,cr;function it(){if(cr)return Mt;cr=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(g,d){if(d=n(d),g instanceof e){if(g.loose===!!d.loose)return g;g=g.value}g=g.trim().split(/\s+/).join(" "),a("comparator",g,d),this.options=d,this.loose=!!d.loose,this.parse(g),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(g){const d=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR],A=g.match(d);if(!A)throw new TypeError(`Invalid comparator: ${g}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new l(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(g){if(a("Comparator.test",g,this.options.loose),this.semver===t||g===t)return!0;if(typeof g=="string")try{g=new l(g,this.options)}catch{return!1}return c(g,this.operator,this.semver,this.options)}intersects(g,d){if(!(g instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new h(g.value,d).test(this.value):g.operator===""?g.value===""?!0:new h(this.value,d).test(g.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||g.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||g.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&g.operator.startsWith(">")||this.operator.startsWith("<")&&g.operator.startsWith("<")||this.semver.version===g.semver.version&&this.operator.includes("=")&&g.operator.includes("=")||c(this.semver,"<",g.semver,d)&&this.operator.startsWith(">")&&g.operator.startsWith("<")||c(this.semver,">",g.semver,d)&&this.operator.startsWith("<")&&g.operator.startsWith(">")))}}Mt=e;const n=Ft,{safeRe:r,t:s}=He,c=or,a=Ye,l=Y,h=ie();return Mt}const pa=ie();var ot=(t,e,n)=>{try{e=new pa(e,n)}catch{return!1}return e.test(t)};const ga=ie();var _a=(t,e)=>new ga(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));const ma=Y,Ea=ie();var va=(t,e,n)=>{let r=null,s=null,c=null;try{c=new Ea(e,n)}catch{return null}return t.forEach(a=>{c.test(a)&&(!r||s.compare(a)===-1)&&(r=a,s=new ma(r,n))}),r};const ya=Y,wa=ie();var Aa=(t,e,n)=>{let r=null,s=null,c=null;try{c=new wa(e,n)}catch{return null}return t.forEach(a=>{c.test(a)&&(!r||s.compare(a)===1)&&(r=a,s=new ya(r,n))}),r};const Ht=Y,xa=ie(),ar=tt;var Ia=(t,e)=>{t=new xa(t,e);let n=new Ht("0.0.0");if(t.test(n)||(n=new Ht("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const s=t.set[r];let c=null;s.forEach(a=>{const l=new Ht(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!c||ar(l,c))&&(c=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),c&&(!n||ar(n,c))&&(n=c)}return n&&t.test(n)?n:null};const La=ie();var Na=(t,e)=>{try{return new La(t,e).range||"*"}catch{return null}};const Sa=Y,lr=it(),{ANY:ba}=lr,Ta=ie(),Ra=ot,ur=tt,fr=Pt,Ca=kt,Oa=Ut;var Gt=(t,e,n,r)=>{t=new Sa(t,r),e=new Ta(e,r);let s,c,a,l,h;switch(n){case">":s=ur,c=Ca,a=fr,l=">",h=">=";break;case"<":s=fr,c=Oa,a=ur,l="<",h="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ra(t,e,r))return!1;for(let u=0;u<e.set.length;++u){const g=e.set[u];let d=null,A=null;if(g.forEach(m=>{m.semver===ba&&(m=new lr(">=0.0.0")),d=d||m,A=A||m,s(m.semver,d.semver,r)?d=m:a(m.semver,A.semver,r)&&(A=m)}),d.operator===l||d.operator===h||(!A.operator||A.operator===l)&&c(t,A.semver))return!1;if(A.operator===h&&a(t,A.semver))return!1}return!0};const Ba=Gt;var Fa=(t,e,n)=>Ba(t,e,">",n);const Da=Gt;var Pa=(t,e,n)=>Da(t,e,"<",n);const hr=ie();var Ua=(t,e,n)=>(t=new hr(t,n),e=new hr(e,n),t.intersects(e,n));const ka=ot,$a=re;var Ma=(t,e,n)=>{const r=[];let s=null,c=null;const a=t.sort((g,d)=>$a(g,d,n));for(const g of a)ka(g,e,n)?(c=g,s||(s=g)):(c&&r.push([s,c]),c=null,s=null);s&&r.push([s,null]);const l=[];for(const[g,d]of r)g===d?l.push(g):!d&&g===a[0]?l.push("*"):d?g===a[0]?l.push(`<=${d}`):l.push(`${g} - ${d}`):l.push(`>=${g}`);const h=l.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return h.length<u.length?h:e};const dr=ie(),jt=it(),{ANY:qt}=jt,Ge=ot,zt=re,Ha=(t,e,n={})=>{if(t===e)return!0;t=new dr(t,n),e=new dr(e,n);let r=!1;e:for(const s of t.set){for(const c of e.set){const a=ja(s,c,n);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},Ga=[new jt(">=0.0.0-0")],pr=[new jt(">=0.0.0")],ja=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===qt){if(e.length===1&&e[0].semver===qt)return!0;n.includePrerelease?t=Ga:t=pr}if(e.length===1&&e[0].semver===qt){if(n.includePrerelease)return!0;e=pr}const r=new Set;let s,c;for(const m of t)m.operator===">"||m.operator===">="?s=gr(s,m,n):m.operator==="<"||m.operator==="<="?c=_r(c,m,n):r.add(m.semver);if(r.size>1)return null;let a;if(s&&c){if(a=zt(s.semver,c.semver,n),a>0)return null;if(a===0&&(s.operator!==">="||c.operator!=="<="))return null}for(const m of r){if(s&&!Ge(m,String(s),n)||c&&!Ge(m,String(c),n))return null;for(const y of e)if(!Ge(m,String(y),n))return!1;return!0}let l,h,u,g,d=c&&!n.includePrerelease&&c.semver.prerelease.length?c.semver:!1,A=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&c.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const m of e){if(g=g||m.operator===">"||m.operator===">=",u=u||m.operator==="<"||m.operator==="<=",s){if(A&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===A.major&&m.semver.minor===A.minor&&m.semver.patch===A.patch&&(A=!1),m.operator===">"||m.operator===">="){if(l=gr(s,m,n),l===m&&l!==s)return!1}else if(s.operator===">="&&!Ge(s.semver,String(m),n))return!1}if(c){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(h=_r(c,m,n),h===m&&h!==c)return!1}else if(c.operator==="<="&&!Ge(c.semver,String(m),n))return!1}if(!m.operator&&(c||s)&&a!==0)return!1}return!(s&&u&&!c&&a!==0||c&&g&&!s&&a!==0||A||d)},gr=(t,e,n)=>{if(!t)return e;const r=zt(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},_r=(t,e,n)=>{if(!t)return e;const r=zt(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var qa=Ha;const Wt=He,mr=Je,za=Y,Er=Xn,Wa=Be,Va=Rc,Xa=Oc,Qa=Bc,Ka=Fc,Ja=Pc,Ya=kc,Za=Mc,el=Gc,tl=re,nl=qc,rl=Wc,il=Dt,ol=Xc,sl=Kc,cl=tt,al=Pt,ll=rr,ul=ir,fl=Ut,hl=kt,dl=or,pl=fa,gl=it(),_l=ie();var ml={parse:Wa,valid:Va,clean:Xa,inc:Qa,diff:Ka,major:Ja,minor:Ya,patch:Za,prerelease:el,compare:tl,rcompare:nl,compareLoose:rl,compareBuild:il,sort:ol,rsort:sl,gt:cl,lt:al,eq:ll,neq:ul,gte:fl,lte:hl,cmp:dl,coerce:pl,Comparator:gl,Range:_l,satisfies:ot,toComparators:_a,maxSatisfying:va,minSatisfying:Aa,minVersion:Ia,validRange:Na,outside:Gt,gtr:Fa,ltr:Pa,intersects:Ua,simplifyRange:Ma,subset:qa,SemVer:za,re:Wt.re,src:Wt.src,tokens:Wt.t,SEMVER_SPEC_VERSION:mr.SEMVER_SPEC_VERSION,RELEASE_TYPES:mr.RELEASE_TYPES,compareIdentifiers:Er.compareIdentifiers,rcompareIdentifiers:Er.rcompareIdentifiers};const vr=ze(ml);var Vt=function(){return Vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Vt.apply(this,arguments)},ye,K;(function(t){t.blue="blue",t.nanoS="nanoS",t.nanoSP="nanoSP",t.nanoX="nanoX",t.nanoFTS="nanoFTS"})(K||(K={}));var Xt=(ye={},ye[K.blue]={id:K.blue,productName:"LedgerBlue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(t){return 4*1024}},ye[K.nanoS]={id:K.nanoS,productName:"LedgerNanoS",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(t){var e;return vr.lt((e=vr.coerce(t))!==null&&e!==void 0?e:"","2.0.0")?4*1024:2*1024}},ye[K.nanoSP]={id:K.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(t){return 32}},ye[K.nanoX]={id:K.nanoX,productName:"LedgerNanoX",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(t){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},ye[K.nanoFTS]={id:K.nanoFTS,productName:"LedgerNanoFTS",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:2*1024*1024,masks:[857735168],getBlockSize:function(t){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},ye);K.blue,K.nanoS,K.nanoSP,K.nanoX,K.nanoFTS;var yr=Object.values(Xt),wr=11415,Ar=function(t){var e=yr.find(function(s){return s.legacyUsbProductId===t});if(e)return e;var n=t>>8,r=yr.find(function(s){return s.productIdMM===n});return r},El=[],xr={};for(var vl in Xt){var Ir=Xt[vl],Qt=Ir.bluetoothSpec;if(Qt)for(var Kt=0;Kt<Qt.length;Kt++){var st=Qt[Kt];El.push(st.serviceUuid),xr[st.serviceUuid]=xr[st.serviceUuid.replace(/-/g,"")]=Vt({deviceModel:Ir},st)}}let yl=0;const de=[],Lr=(t,e,n)=>{const r={type:t,id:String(++yl),date:new Date};e&&(r.message=e),Al(r)},wl=t=>(de.push(t),()=>{const e=de.indexOf(t);e!==-1&&(de[e]=de[de.length-1],de.pop())});function Al(t){for(let e=0;e<de.length;e++)try{de[e](t)}catch(n){console.error(n)}}typeof window<"u"&&(window.__ledgerLogsListen=wl);var xl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ue=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(a){a(c)})}return new(n||(n=Promise))(function(c,a){function l(g){try{u(r.next(g))}catch(d){a(d)}}function h(g){try{u(r.throw(g))}catch(d){a(d)}}function u(g){g.done?c(g.value):s(g.value).then(l,h)}u((r=r.apply(t,e||[])).next())})},fe=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(g){return h([u,g])}}function h(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(c=u[0]&2?s.return:u[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,u[1])).done)return c;switch(s=0,c&&(u=[u[0]&2,c.value]),u[0]){case 0:case 1:c=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!c||u[1]>c[0]&&u[1]<c[3])){n.label=u[1];break}if(u[0]===6&&n.label<c[1]){n.label=c[1],c=u;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(u);break}c[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(g){u=[6,g],s=0}finally{r=c=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Il=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,c=[],a;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)c.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return c},Ll=[{vendorId:wr}],Nl=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},ct=function(){var t=navigator.hid;if(!t)throw new ve("navigator.hid is not supported","HIDNotSupported");return t};function Nr(){return ue(this,void 0,void 0,function(){var t;return fe(this,function(e){switch(e.label){case 0:return[4,ct().requestDevice({filters:Ll})];case 1:return t=e.sent(),Array.isArray(t)?[2,t]:[2,[t]]}})})}function Jt(){return ue(this,void 0,void 0,function(){var t;return fe(this,function(e){switch(e.label){case 0:return[4,ct().getDevices()];case 1:return t=e.sent(),[2,t.filter(function(n){return n.vendorId===wr})]}})})}function Sl(){return ue(this,void 0,void 0,function(){var t,e;return fe(this,function(n){switch(n.label){case 0:return[4,Jt()];case 1:return t=n.sent(),t.length>0?[2,t[0]]:[4,Nr()];case 2:return e=n.sent(),[2,e[0]]}})})}var bl=function(t){xl(e,t);function e(n){var r=t.call(this)||this;return r.channel=Math.floor(Math.random()*65535),r.packetSize=64,r.inputs=[],r.read=function(){return r.inputs.length?Promise.resolve(r.inputs.shift()):new Promise(function(s){r.inputCallback=s})},r.onInputReport=function(s){var c=Buffer.from(s.data.buffer);r.inputCallback?(r.inputCallback(c),r.inputCallback=null):r.inputs.push(c)},r._disconnectEmitted=!1,r._emitDisconnect=function(s){r._disconnectEmitted||(r._disconnectEmitted=!0,r.emit("disconnect",s))},r.exchange=function(s){return ue(r,void 0,void 0,function(){var c,a=this;return fe(this,function(l){switch(l.label){case 0:return[4,this.exchangeAtomicImpl(function(){return ue(a,void 0,void 0,function(){var h,u,g,d,A,m,y,F,I;return fe(this,function(S){switch(S.label){case 0:h=this,u=h.channel,g=h.packetSize,Lr("apdu","=> "+s.toString("hex")),d=wc(u,g),A=d.makeBlocks(s),m=0,S.label=1;case 1:return m<A.length?[4,this.device.sendReport(0,A[m])]:[3,4];case 2:S.sent(),S.label=3;case 3:return m++,[3,1];case 4:return(y=d.getReducedResult(F))?[3,6]:[4,this.read()];case 5:return I=S.sent(),F=d.reduceResponse(F,I),[3,4];case 6:return Lr("apdu","<= "+y.toString("hex")),[2,y]}})})}).catch(function(h){throw h&&h.message&&h.message.includes("write")?(a._emitDisconnect(h),new Hn(h.message)):h})];case 1:return c=l.sent(),[2,c]}})})},r.device=n,r.deviceModel=typeof n.productId=="number"?Ar(n.productId):void 0,n.addEventListener("inputreport",r.onInputReport),r}return e.request=function(){return ue(this,void 0,void 0,function(){var n,r;return fe(this,function(s){switch(s.label){case 0:return[4,Nr()];case 1:return n=Il.apply(void 0,[s.sent(),1]),r=n[0],[2,e.open(r)]}})})},e.openConnected=function(){return ue(this,void 0,void 0,function(){var n;return fe(this,function(r){switch(r.label){case 0:return[4,Jt()];case 1:return n=r.sent(),n.length===0?[2,null]:[2,e.open(n[0])]}})})},e.open=function(n){return ue(this,void 0,void 0,function(){var r,s;return fe(this,function(c){switch(c.label){case 0:return[4,n.open()];case 1:return c.sent(),r=new e(n),s=function(a){n===a.device&&(ct().removeEventListener("disconnect",s),r._emitDisconnect(new Mn))},ct().addEventListener("disconnect",s),[2,r]}})})},e.prototype.close=function(){return ue(this,void 0,void 0,function(){return fe(this,function(n){switch(n.label){case 0:return[4,this.exchangeBusyPromise];case 1:return n.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return n.sent(),[2]}})})},e.prototype.setScrambleKey=function(){},e.isSupported=Nl,e.list=Jt,e.listen=function(n){var r=!1;Sl().then(function(c){if(!c)n.error(new St("Access denied to use Ledger device"));else if(!r){var a=typeof c.productId=="number"?Ar(c.productId):void 0;n.next({type:"add",descriptor:c,deviceModel:a}),n.complete()}},function(c){n.error(new St(c.message))});function s(){r=!0}return{unsubscribe:s}},e}(vc),at,U,Sr,we,br,Tr,Yt,Zt,en,tn,je={},Rr=[],Tl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,lt=Array.isArray;function pe(t,e){for(var n in e)t[n]=e[n];return t}function Cr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function nn(t,e,n){var r,s,c,a={};for(c in e)c=="key"?r=e[c]:c=="ref"?s=e[c]:a[c]=e[c];if(arguments.length>2&&(a.children=arguments.length>3?at.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(c in t.defaultProps)a[c]===void 0&&(a[c]=t.defaultProps[c]);return ut(t,a,r,s,null)}function ut(t,e,n,r,s){var c={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++Sr,__i:-1,__u:0};return s==null&&U.vnode!=null&&U.vnode(c),c}function Fe(t){return t.children}function he(t,e){this.props=t,this.context=e}function De(t,e){if(e==null)return t.__?De(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?De(t):null}function Or(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Or(t)}}function Br(t){(!t.__d&&(t.__d=!0)&&we.push(t)&&!ft.__r++||br!==U.debounceRendering)&&((br=U.debounceRendering)||Tr)(ft)}function ft(){var t,e,n,r,s,c,a,l;for(we.sort(Yt);t=we.shift();)t.__d&&(e=we.length,r=void 0,c=(s=(n=t).__v).__e,a=[],l=[],n.__P&&((r=pe({},s)).__v=s.__v+1,U.vnode&&U.vnode(r),rn(n.__P,r,s,n.__n,n.__P.namespaceURI,32&s.__u?[c]:null,a,c??De(s),!!(32&s.__u),l),r.__v=s.__v,r.__.__k[r.__i]=r,kr(a,r,l),r.__e!=c&&Or(r)),we.length>e&&we.sort(Yt));ft.__r=0}function Fr(t,e,n,r,s,c,a,l,h,u,g){var d,A,m,y,F,I=r&&r.__k||Rr,S=e.length;for(n.__d=h,Rl(n,e,I),h=n.__d,d=0;d<S;d++)(m=n.__k[d])!=null&&(A=m.__i===-1?je:I[m.__i]||je,m.__i=d,rn(t,m,A,s,c,a,l,h,u,g),y=m.__e,m.ref&&A.ref!=m.ref&&(A.ref&&on(A.ref,null,m),g.push(m.ref,m.__c||y,m)),F==null&&y!=null&&(F=y),65536&m.__u||A.__k===m.__k?h=Dr(m,h,t):typeof m.type=="function"&&m.__d!==void 0?h=m.__d:y&&(h=y.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=h,n.__e=F}function Rl(t,e,n){var r,s,c,a,l,h=e.length,u=n.length,g=u,d=0;for(t.__k=[],r=0;r<h;r++)(s=e[r])!=null&&typeof s!="boolean"&&typeof s!="function"?(a=r+d,(s=t.__k[r]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ut(null,s,null,null,null):lt(s)?ut(Fe,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?ut(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,c=null,(l=s.__i=Cl(s,n,a,g))!==-1&&(g--,(c=n[l])&&(c.__u|=131072)),c==null||c.__v===null?(l==-1&&d--,typeof s.type!="function"&&(s.__u|=65536)):l!==a&&(l==a-1?d--:l==a+1?d++:(l>a?d--:d++,s.__u|=65536))):s=t.__k[r]=null;if(g)for(r=0;r<u;r++)(c=n[r])!=null&&!(131072&c.__u)&&(c.__e==t.__d&&(t.__d=De(c)),$r(c,c))}function Dr(t,e,n){var r,s;if(typeof t.type=="function"){for(r=t.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=t,e=Dr(r[s],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=De(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function ht(t,e){return e=e||[],t==null||typeof t=="boolean"||(lt(t)?t.some(function(n){ht(n,e)}):e.push(t)),e}function Cl(t,e,n,r){var s=t.key,c=t.type,a=n-1,l=n+1,h=e[n];if(h===null||h&&s==h.key&&c===h.type&&!(131072&h.__u))return n;if(r>(h!=null&&!(131072&h.__u)?1:0))for(;a>=0||l<e.length;){if(a>=0){if((h=e[a])&&!(131072&h.__u)&&s==h.key&&c===h.type)return a;a--}if(l<e.length){if((h=e[l])&&!(131072&h.__u)&&s==h.key&&c===h.type)return l;l++}}return-1}function Pr(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Tl.test(e)?n:n+"px"}function dt(t,e,n,r,s){var c;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Pr(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Pr(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")c=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+c]=n,n?r?n.u=r.u:(n.u=Zt,t.addEventListener(e,c?tn:en,c)):t.removeEventListener(e,c?tn:en,c);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Ur(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Zt++;else if(e.t<n.u)return;return n(U.event?U.event(e):e)}}}function rn(t,e,n,r,s,c,a,l,h,u){var g,d,A,m,y,F,I,S,k,R,Z,Q,ce,xe,ge,Ie,ee=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(h=!!(32&n.__u),c=[l=e.__e=n.__e]),(g=U.__b)&&g(e);e:if(typeof ee=="function")try{if(S=e.props,k="prototype"in ee&&ee.prototype.render,R=(g=ee.contextType)&&r[g.__c],Z=g?R?R.props.value:g.__:r,n.__c?I=(d=e.__c=n.__c).__=d.__E:(k?e.__c=d=new ee(S,Z):(e.__c=d=new he(S,Z),d.constructor=ee,d.render=Bl),R&&R.sub(d),d.props=S,d.state||(d.state={}),d.context=Z,d.__n=r,A=d.__d=!0,d.__h=[],d._sb=[]),k&&d.__s==null&&(d.__s=d.state),k&&ee.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=pe({},d.__s)),pe(d.__s,ee.getDerivedStateFromProps(S,d.__s))),m=d.props,y=d.state,d.__v=e,A)k&&ee.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),k&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(k&&ee.getDerivedStateFromProps==null&&S!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(S,Z),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(S,d.__s,Z)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=S,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(_e){_e&&(_e.__=e)}),Q=0;Q<d._sb.length;Q++)d.__h.push(d._sb[Q]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(S,d.__s,Z),k&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,y,F)})}if(d.context=Z,d.props=S,d.__P=t,d.__e=!1,ce=U.__r,xe=0,k){for(d.state=d.__s,d.__d=!1,ce&&ce(e),g=d.render(d.props,d.state,d.context),ge=0;ge<d._sb.length;ge++)d.__h.push(d._sb[ge]);d._sb=[]}else do d.__d=!1,ce&&ce(e),g=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++xe<25);d.state=d.__s,d.getChildContext!=null&&(r=pe(pe({},r),d.getChildContext())),k&&!A&&d.getSnapshotBeforeUpdate!=null&&(F=d.getSnapshotBeforeUpdate(m,y)),Fr(t,lt(Ie=g!=null&&g.type===Fe&&g.key==null?g.props.children:g)?Ie:[Ie],e,n,r,s,c,a,l,h,u),d.base=e.__e,e.__u&=-161,d.__h.length&&a.push(d),I&&(d.__E=d.__=null)}catch(_e){if(e.__v=null,h||c!=null){for(e.__u|=h?160:128;l&&l.nodeType===8&&l.nextSibling;)l=l.nextSibling;c[c.indexOf(l)]=null,e.__e=l}else e.__e=n.__e,e.__k=n.__k;U.__e(_e,e,n)}else c==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Ol(n.__e,e,n,r,s,c,a,h,u);(g=U.diffed)&&g(e)}function kr(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)on(n[r],n[++r],n[++r]);U.__c&&U.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(c){c.call(s)})}catch(c){U.__e(c,s.__v)}})}function Ol(t,e,n,r,s,c,a,l,h){var u,g,d,A,m,y,F,I=n.props,S=e.props,k=e.type;if(k==="svg"?s="http://www.w3.org/2000/svg":k==="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),c!=null){for(u=0;u<c.length;u++)if((m=c[u])&&"setAttribute"in m==!!k&&(k?m.localName===k:m.nodeType===3)){t=m,c[u]=null;break}}if(t==null){if(k===null)return document.createTextNode(S);t=document.createElementNS(s,k,S.is&&S),l&&(U.__m&&U.__m(e,c),l=!1),c=null}if(k===null)I===S||l&&t.data===S||(t.data=S);else{if(c=c&&at.call(t.childNodes),I=n.props||je,!l&&c!=null)for(I={},u=0;u<t.attributes.length;u++)I[(m=t.attributes[u]).name]=m.value;for(u in I)if(m=I[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=m;else if(!(u in S)){if(u=="value"&&"defaultValue"in S||u=="checked"&&"defaultChecked"in S)continue;dt(t,u,null,m,s)}}for(u in S)m=S[u],u=="children"?A=m:u=="dangerouslySetInnerHTML"?g=m:u=="value"?y=m:u=="checked"?F=m:l&&typeof m!="function"||I[u]===m||dt(t,u,m,I[u],s);if(g)l||d&&(g.__html===d.__html||g.__html===t.innerHTML)||(t.innerHTML=g.__html),e.__k=[];else if(d&&(t.innerHTML=""),Fr(t,lt(A)?A:[A],e,n,r,k==="foreignObject"?"http://www.w3.org/1999/xhtml":s,c,a,c?c[0]:n.__k&&De(n,0),l,h),c!=null)for(u=c.length;u--;)Cr(c[u]);l||(u="value",k==="progress"&&y==null?t.removeAttribute("value"):y!==void 0&&(y!==t[u]||k==="progress"&&!y||k==="option"&&y!==I[u])&&dt(t,u,y,I[u],s),u="checked",F!==void 0&&F!==t[u]&&dt(t,u,F,I[u],s))}return t}function on(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(s){U.__e(s,n)}}function $r(t,e,n){var r,s;if(U.unmount&&U.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||on(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(c){U.__e(c,e)}r.base=r.__P=null}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&$r(r[s],e,n||typeof t.type!="function");n||Cr(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Bl(t,e,n){return this.constructor(t,n)}function Fl(t,e,n){var r,s,c,a;U.__&&U.__(t,e),s=(r=typeof n=="function")?null:e.__k,c=[],a=[],rn(e,t=(!r&&n||e).__k=nn(Fe,null,[t]),s||je,je,e.namespaceURI,!r&&n?[n]:s?null:e.firstChild?at.call(e.childNodes):null,c,!r&&n?n:s?s.__e:e.firstChild,r,a),kr(c,t,a)}at=Rr.slice,U={__e:function(t,e,n,r){for(var s,c,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((c=s.constructor)&&c.getDerivedStateFromError!=null&&(s.setState(c.getDerivedStateFromError(t)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,r||{}),a=s.__d),a)return s.__E=s}catch(l){t=l}throw t}},Sr=0,he.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=pe({},this.state),typeof t=="function"&&(t=t(pe({},n),this.props)),t&&pe(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Br(this))},he.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Br(this))},he.prototype.render=Fe,we=[],Tr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Yt=function(t,e){return t.__v.__b-e.__v.__b},ft.__r=0,Zt=0,en=Ur(!1),tn=Ur(!0);var Dl=0;function L(t,e,n,r,s,c){e||(e={});var a,l,h=e;"ref"in e&&(a=e.ref,delete e.ref);var u={type:t,props:h,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Dl,__i:-1,__u:0,__source:s,__self:c};if(typeof t=="function"&&(a=t.defaultProps))for(l in a)h[l]===void 0&&(h[l]=a[l]);return U.vnode&&U.vnode(u),u}var Pe,z,sn,Mr,pt=0,Hr=[],X=U,Gr=X.__b,jr=X.__r,qr=X.diffed,zr=X.__c,Wr=X.unmount,Vr=X.__;function gt(t,e){X.__h&&X.__h(z,t,pt||e),pt=0;var n=z.__H||(z.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function cn(t){return pt=1,Pl(Kr,t)}function Pl(t,e,n){var r=gt(Pe++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):Kr(void 0,e),function(l){var h=r.__N?r.__N[0]:r.__[0],u=r.t(h,l);h!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=z,!z.u)){var s=function(l,h,u){if(!r.__c.__H)return!0;var g=r.__c.__H.__.filter(function(A){return!!A.__c});if(g.every(function(A){return!A.__N}))return!c||c.call(this,l,h,u);var d=!1;return g.forEach(function(A){if(A.__N){var m=A.__[0];A.__=A.__N,A.__N=void 0,m!==A.__[0]&&(d=!0)}}),!(!d&&r.__c.props===l)&&(!c||c.call(this,l,h,u))};z.u=!0;var c=z.shouldComponentUpdate,a=z.componentWillUpdate;z.componentWillUpdate=function(l,h,u){if(this.__e){var g=c;c=void 0,s(l,h,u),c=g}a&&a.call(this,l,h,u)},z.shouldComponentUpdate=s}return r.__N||r.__}function Xr(t,e){var n=gt(Pe++,3);!X.__s&&ln(n.__H,e)&&(n.__=t,n.i=e,z.__H.__h.push(n))}function Ul(t,e){var n=gt(Pe++,4);!X.__s&&ln(n.__H,e)&&(n.__=t,n.i=e,z.__h.push(n))}function kl(t){return pt=5,_t(function(){return{current:t}},[])}function _t(t,e){var n=gt(Pe++,7);return ln(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function $l(){for(var t;t=Hr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(mt),t.__H.__h.forEach(an),t.__H.__h=[]}catch(e){t.__H.__h=[],X.__e(e,t.__v)}}X.__b=function(t){z=null,Gr&&Gr(t)},X.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Vr&&Vr(t,e)},X.__r=function(t){jr&&jr(t),Pe=0;var e=(z=t.__c).__H;e&&(sn===z?(e.__h=[],z.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(mt),e.__h.forEach(an),e.__h=[],Pe=0)),sn=z},X.diffed=function(t){qr&&qr(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Hr.push(e)!==1&&Mr===X.requestAnimationFrame||((Mr=X.requestAnimationFrame)||Ml)($l)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),sn=z=null},X.__c=function(t,e){e.some(function(n){try{n.__h.forEach(mt),n.__h=n.__h.filter(function(r){return!r.__||an(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],X.__e(r,n.__v)}}),zr&&zr(t,e)},X.unmount=function(t){Wr&&Wr(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{mt(r)}catch(s){e=s}}),n.__H=void 0,e&&X.__e(e,n.__v))};var Qr=typeof requestAnimationFrame=="function";function Ml(t){var e,n=function(){clearTimeout(r),Qr&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Qr&&(e=requestAnimationFrame(n))}function mt(t){var e=z,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),z=e}function an(t){var e=z;t.__c=t.__(),z=e}function ln(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Kr(t,e){return typeof e=="function"?e(t):e}function Jr(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Yr(t,e){this.props=t,this.context=e}(Yr.prototype=new he).isPureReactComponent=!0,Yr.prototype.shouldComponentUpdate=function(t,e){return Jr(this.props,t)||Jr(this.state,e)};var Zr=U.__b;U.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Zr&&Zr(t)};var Hl=U.__e;U.__e=function(t,e,n,r){if(t.then){for(var s,c=e;c=c.__;)if((s=c.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}Hl(t,e,n,r)};var ei=U.unmount;function ti(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=function(r,s){for(var c in s)r[c]=s[c];return r}({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return ti(r,e,n)})),t}function ni(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return ni(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function un(){this.__u=0,this.t=null,this.__b=null}function ri(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Et(){this.u=null,this.o=null}U.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),ei&&ei(t)},(un.prototype=new he).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var s=ri(r.__v),c=!1,a=function(){c||(c=!0,n.__R=null,s?s(l):l())};n.__R=a;var l=function(){if(!--r.__u){if(r.state.__a){var h=r.state.__a;r.__v.__k[0]=ni(h,h.__c.__P,h.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(a,a)},un.prototype.componentWillUnmount=function(){this.t=[]},un.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ti(this.__b,n,r.__O=r.__P)}this.__b=null}var s=e.__a&&nn(Fe,null,t.fallback);return s&&(s.__u&=-33),[nn(Fe,null,e.__a?null:t.children),s]};var ii=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(Et.prototype=new he).__a=function(t){var e=this,n=ri(e.__v),r=e.o.get(t);return r[0]++,function(s){var c=function(){e.props.revealOrder?(r.push(s),ii(e,t,r)):s()};n?n(c):c()}},Et.prototype.render=function(t){this.u=null,this.o=new Map;var e=ht(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Et.prototype.componentDidUpdate=Et.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){ii(t,n,e)})};var Gl=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,jl=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ql=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,zl=/[A-Z0-9]/g,Wl=typeof document<"u",Vl=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function fn(t,e,n){return e.__k==null&&(e.textContent=""),Fl(t,e),typeof n=="function"&&n(),t?t.__c:null}he.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(he.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var oi=U.event;function Xl(){}function Ql(){return this.cancelBubble}function Kl(){return this.defaultPrevented}U.event=function(t){return oi&&(t=oi(t)),t.persist=Xl,t.isPropagationStopped=Ql,t.isDefaultPrevented=Kl,t.nativeEvent=t};var Jl={enumerable:!1,configurable:!0,get:function(){return this.class}},si=U.vnode;U.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,r=e.type,s={},c=r.indexOf("-")===-1;for(var a in n){var l=n[a];if(!(a==="value"&&"defaultValue"in n&&l==null||Wl&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var h=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&l===!0?l="":h==="translate"&&l==="no"?l=!1:h[0]==="o"&&h[1]==="n"?h==="ondoubleclick"?a="ondblclick":h!=="onchange"||r!=="input"&&r!=="textarea"||Vl(n.type)?h==="onfocus"?a="onfocusin":h==="onblur"?a="onfocusout":ql.test(a)&&(a=h):h=a="oninput":c&&jl.test(a)?a=a.replace(zl,"-$&").toLowerCase():l===null&&(l=void 0),h==="oninput"&&s[a=h]&&(a="oninputCapture"),s[a]=l}}r=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=ht(n.children).forEach(function(u){u.props.selected=s.value.indexOf(u.props.value)!=-1})),r=="select"&&s.defaultValue!=null&&(s.value=ht(n.children).forEach(function(u){u.props.selected=s.multiple?s.defaultValue.indexOf(u.props.value)!=-1:s.defaultValue==u.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",Jl)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=Gl,si&&si(t)};var ci=U.__r;U.__r=function(t){ci&&ci(t),t.__c};var ai=U.diffed;U.diffed=function(t){ai&&ai(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};const Ae={en:{loadingTitle:"Log in with Ledger",loadingTip0:"Please connect to your Ledger device and open Tron App.",loadingTip4:"Preparing your Ledger device...",checkTitle:"Please check if the address below is the same one shown on your Ledger device",checkTip0:"If it is: press Approve button to confirm the address",checkTip1:"If it isn't: select Reject on your Ledger device and refresh this page",confirmTip:"Please confirm on your Ledger",selectTitle:"Select account",selectTip:"Please select an account to use",cancel:"Cancel",confirm:"Confirm",address:"Address",balance:"Available Balance",loadMore:"Load More"},"zh-CN":{loadingTitle:"Ledger ",loadingTip0:" Ledger  TRON ",loadingTip4:"Ledger ......",checkTitle:" Ledger ",checkTip0:" Approve ",checkTip1:" Ledger  Reject ",confirmTip:" Ledger ",selectTitle:"",selectTip:"",cancel:"",confirm:"",address:"",balance:"",loadMore:""},"zh-TC":{loadingTitle:"Ledger ",loadingTip0:" Ledger  TRON ",loadingTip4:"Ledger ......",checkTitle:" Ledger ",checkTip0:" Approve ",checkTip1:" Ledger  Reject ",confirmTip:" Ledger ",selectTitle:"",selectTip:"",cancel:"",confirm:"",address:"",balance:"",loadMore:""}};function Ue(){const e=new URLSearchParams(globalThis.location.search).get("lang"),n=globalThis.localStorage.getItem("lang"),r=(e||n||"").toLowerCase(),s=(globalThis.navigator.language||"").toLowerCase();let c;["zh-tw","zh-hk","zh-tc"].includes(s)?c=Ae["zh-TC"]:["zh","zh-cn"].includes(s)?c=Ae["zh-CN"]:s.includes("en")&&(c=Ae.en);let a=c;return r&&(["zh-tw","zh-hk","zh-tc"].includes(r)?a=Ae["zh-TC"]:["zh","zh-cn"].includes(r)?a=Ae["zh-CN"]:r.includes("en")&&(a=Ae.en)),a||Ae.en}function li(){return L("div",{children:L("img",{style:{width:"5vw",marginBottom:"1vw"},src:"data:image/png;base64,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",alt:"logo"})})}function ui(){return L("div",{className:"ledger-ant-spin ledger-ant-spin-lg ledger-ant-spin-spinning spin",children:L("span",{className:"ledger-ant-spin-dot",children:[L("i",{className:"ledger-ant-spin-dot-item"}),L("i",{className:"ledger-ant-spin-dot-item"}),L("i",{className:"ledger-ant-spin-dot-item"}),L("i",{className:"ledger-ant-spin-dot-item"})]})})}function Yl(t){const e=_t(()=>Ue(),[]);return L("div",{style:{textAlign:"center"},"data-testid":"confirm-content",children:[L(li,{}),L("div",{className:"ledger-connecting-pop",children:[L("ul",{className:"ledger-connecting-pop-content",children:[L("li",{className:"title",style:{wordBreak:"break-word"},children:e.checkTitle}),L("li",{children:L("strong",{style:{color:"#B0170D",textAlign:"left",fontWeight:"600"},"data-testid":"confirm-content-address",children:t.address})}),L("li",{children:e.checkTip0}),L("li",{children:e.checkTip1})]}),L("div",{className:"mt-4",children:[L(ui,{}),L("div",{children:L("div",{className:"text-muted",children:L("span",{children:e.confirmTip})})})]})]})]})}function Zl(){const t=_t(()=>Ue(),[]);return L("div",{style:{textAlign:"center"},"data-testid":"connecting-content",children:[L(li,{}),L("div",{className:"ledger-connecting-pop",children:[L("ul",{className:"ledger-connecting-pop-content",children:L("li",{className:"title",children:t.loadingTip0})}),L("div",{className:"mt-4",children:[L(ui,{}),L("div",{children:L("div",{className:"text-muted",children:L("span",{children:t.loadingTip4})})})]})]})]})}function hn(t){return L("div",{className:"ledger-modal-root",children:[L("div",{className:"ledger-modal-mask"}),L("div",{className:"ledger-modal-wrap",children:L("div",{className:"ledger-modal",style:{width:t.width||"550px"},children:L("div",{className:"ledger-modal-content",children:[L("button",{onClick:t.onClose,type:"button","aria-label":"Close",className:"ledger-modal-close",children:L("span",{className:"ledger-modal-close-x",children:L("i",{"aria-label":"icon: close",className:"icon icon-close ledger-modal-close-icon",children:L("svg",{viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"close",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:L("path",{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"})})})})}),L("div",{className:"ledger-modal-header",children:L("div",{className:"ledger-modal-title",children:t.title})}),L("div",{className:"ledger-modal-body",children:t.children})]})})})]})}var eu=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(a){a(c)})}return new(n||(n=Promise))(function(c,a){function l(g){try{u(r.next(g))}catch(d){a(d)}}function h(g){try{u(r.throw(g))}catch(d){a(d)}}function u(g){g.done?c(g.value):s(g.value).then(l,h)}u((r=r.apply(t,e||[])).next())})};function tu(t){const[e,n]=cn(0),[r,s]=cn([]),[c,a]=cn(!1),l=kl(null),h=_t(()=>Ue(),[]);Xr(()=>{s([...t.accounts])},[t.accounts]),Xr(()=>{n(t.selectedIndex)},[t.selectedIndex]);function u(m){n(+m.target.value)}function g(){const m=r.find(y=>y.index===e);t.onConfirm(m||(r==null?void 0:r[0]))}function d(){t.onCancel()}function A(){return eu(this,void 0,void 0,function*(){a(!0);const m=r[r.length-1]||{index:-1},y=m.index+1,F=m.index+6;try{const I=yield t.getAccounts(y,F);s(S=>[...S,...I])}finally{a(!1)}})}return Ul(()=>{var m,y;(y=(m=l.current)===null||m===void 0?void 0:m.scrollIntoView)===null||y===void 0||y.call(m)},[r]),L("div",{style:{paddingLeft:40},className:"ledger-select","data-testid":"select-account-content",children:[L("span",{className:"title",children:h.selectTip}),L("div",{className:"ledger-select-list-wrap",children:[L("ul",{className:"ledger-select-list","data-testid":"select-account-list",children:r.map((m,y)=>L("li",{className:"ledger-select-item",children:L("label",{htmlFor:`ledger-select-radio${y}`,children:[L("input",{className:m.index===e?"checked":"",id:`ledger-select-radio${y}`,type:"radio",name:"selectedAddress",value:m.index,checked:m.index===e,onInput:u}),L("span",{children:m.address})]})},y))}),L("div",{style:{display:"flex",justifyContent:"flex-end"},children:L("button",{"data-testid":"btn-load-more",ref:l,style:{marginTop:10},disabled:c,className:"ledger-select-button",onClick:A,children:[L("span",{style:{marginRight:c?10:0},children:h.loadMore}),c?L("svg",{width:"18",height:"18",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff",children:L("g",{fill:"none",fillRule:"evenodd",children:L("g",{transform:"translate(1 1)",strokeWidth:"2",children:[L("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),L("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:L("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})}):null]})})]}),L("footer",{style:{display:"flex",justifyContent:"flex-end"},children:[L("button",{"data-testid":"btn-cancel",style:{marginRight:10},className:"ledger-select-button default-button",onClick:d,children:h.cancel}),L("button",{"data-testid":"btn-confirm",disabled:c,className:"ledger-select-button",onClick:g,children:h.confirm})]})]})}const nu=`
.ledger-modal-mask, .ledger-modal-wrap {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1000;
    font-family: 'PingFangSC-Regular', 'Arial', sans-serif, 'Droid Sans', 'Helvetica Neue';
}
.ledger-modal-mask {
    height: 100%;
    background-color: rgba(0, 0, 0, 0.45);
}
.ledger-modal-wrap {
    overflow: auto;
    outline: 0;
}
.ledger-modal {
  position: relative;
  margin: 0 auto;
  padding-bottom: 24px;
  line-height: 1.5;
  top: 50px;
  width: 600px;
  color: rgba(0, 0, 0, 0.65);
}
.ledger-modal-content {
  position: relative;
  background-color: #fff;
  background-clip: padding-box;
  border: 0;
  border-radius: 4px;
  box-shadow: 0 4px 12px rgb(0 0 0 / 15%);
  pointer-events: auto;
}
.ledger-modal-close {
  -webkit-appearance: button;
  position: absolute;
  top: 0;
  right: 0;
  z-index: 10;
  padding: 0;
  color: rgba(0, 0, 0, 0.45);
  font-weight: 700;
  line-height: 1;
  text-decoration: none;
  background: transparent;
  border: 0;
  outline: 0;
  cursor: pointer;
  transition: color 0.3s;
}
.ledger-modal-close:focus,.ledger-modal-close:active,.ledger-modal-close:hover {
  color: rgba(0, 0, 0, 0.75);
  text-decoration: none;
  border: none;
  outline: none;
}
.ledger-modal-close-x {
  display: block;
  width: 56px;
  height: 56px;
  font-size: 16px;
  font-style: normal;
  line-height: 56px;
  text-align: center;
  text-transform: none;
  text-rendering: auto;
}
.ledger-modal-close-x .icon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
.ledger-modal-header {
  padding: 16px 24px;
  color: rgba(0, 0, 0, 0.65);
  background: #fff;
  border-bottom: 1px solid #e8e8e8;
  border-radius: 4px 4px 0 0;
}
.ledger-select .title, .ledger-modal-title {
  margin: 0;
  color: rgba(0, 0, 0, 0.85);
  font-weight: 500;
  font-size: 18px;
  line-height: 22px;
  word-wrap: break-word;
}
.ledger-modal-body {
  padding: 24px;
  font-size: 14px;
  line-height: 1.5;
  word-wrap: break-word;
  max-height: 650px;
  overflow-y: auto;
}


// connecting content
.ledger-connecting-pop ul {
  margin: 0;
}
.ledger-connecting-pop-content {
  padding-left: 8%;
}
.ledger-connecting-pop-content li, .ledger-select li {
  display: flex;
  margin: 10px 0 10px 0;
  line-height: 25px;
  word-break: break-all;
  text-align: left;
}
.ledger-connecting-pop-content .title {
  margin-bottom: 20px;
  font-weight: bold;
}
.ledger-ant-spin {
  box-sizing: border-box;
  padding: 0;
  font-size: 14px;
  font-variant: tabular-nums;
  line-height: 1.5;
  list-style: none;
  font-feature-settings: 'tnum';
  color: #B0170D;
  vertical-align: middle;
  transition: transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);
  position: static;
  opacity: 1;
  margin: 2vw 0;
  text-align: center;
  display: block;
}
.ledger-ant-spin-dot {
  position: relative;
  display: inline-block;
  font-size: 20px;
  width: 1em;
  height: 1em;
  transform: rotate(45deg);
  animation: antRotate 1.2s infinite linear;
  font-size: 32px;
}

.ledger-ant-spin-dot-item {
  position: absolute;
  display: block;
  width: 9px;
  height: 9px;
  background-color: #B0170D;
  border-radius: 100%;
  transform: scale(0.75);
  transform-origin: 50% 50%;
  opacity: 0.3;
  animation: antSpinMove 1s infinite linear alternate;
}
.ledger-ant-spin-dot-item:nth-child(1) {
  top: 0;
  left: 0;
}
.ledger-ant-spin-dot-item:nth-child(2) {
  top: 0;
  right: 0;
  animation-delay: 0.4s;
}
.ledger-ant-spin-dot-item:nth-child(3) {
  right: 0;
  bottom: 0;
  animation-delay: 0.8s;
}
.ledger-ant-spin-dot-item:nth-child(4) {
  bottom: 0;
  left: 0;
  animation-delay: 1.2s;
}
.ledger-ant-spin-lg .ledger-ant-spin-dot i {
  width: 14px;
  height: 14px;
}
@keyframes antRotate {
  100% {
    transform: rotate(405deg)
  }
}
@keyframes antSpinMove {
  100% {
    opacity: 1;
  }
}

.ledger-select {
  text-align: left;
}
.ledger-select .title {
  display: block;
  margin-bottom: 10px;
}
.ledger-select-list-wrap {
  width: 100%;
  max-height: 400px;
  overflow-y: auto;
  margin: 0 0 20px 0;
}
.ledger-select-list {
  margin-top: 0;
  padding: 0;
}
.ledger-select-item {
  font-size: 14px;
  color: #2f2f2f;
  line-height: 25px;
  margin-top: 0;
}
.ledger-select-item:hover {
  color: #6f6f6f;
}
.ledger-select-item label {
  cursor: pointer;
  width: 100%;
  display: flex;
}
.ledger-select-item input {
  width: 15px;
  height: 25px;
  margin: 0 10px 0 0;
}
.ledger-select-button {
  display: inline-flex;
  color: #fff;
  cursor: pointer;
  height: 36px;
  background-color: #c23631;
  border: none;
  border-radius: 4px;
  align-items: center;
  padding: 0 18px;
  font-family: DM Sans, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif;
  font-size: 14px;
  font-weight: 500;
  line-height: 36px;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
.ledger-select-button[disabled] {
  cursor: not-allowed;
}
.ledger-select-button.default-button {
  background-color: #fff;
  color: rgba(0, 0, 0, 0.65);
  border: 1px solid #dcdfe6;
}
.ledger-select-button:focus {
  outline: none;
}
.ledger-select-button:focus-visible {
  outline: 2px solid white;
}
.ledger-select-button:hover {
  opacity: 0.7;
}
`;function dn(){const t=document.createElement("div"),e=document.createElement("style");e.innerHTML=nu,document.body.append(e),document.body.append(t);function n(){t.remove(),e.remove()}return{onClose:n,div:t}}function ru(){const{onClose:t,div:e}=dn(),n=Ue();return fn(L(hn,{title:n.loadingTitle,onClose:t,children:L(Zl,{})}),e),t}function iu(t){const{onClose:e,div:n}=dn(),r=Ue();return fn(L(hn,{width:550,title:r.loadingTitle,onClose:e,children:L(Yl,{address:t})}),n),e}function ou(t){const{onClose:e,div:n}=dn(),r=Ue();return new Promise((s,c)=>{function a(h){s(h),e()}function l(){c(new Error("Operation is canceled.")),e()}fn(L(hn,{title:r.loadingTitle,onClose:l,children:L(tu,{accounts:t.accounts,selectedIndex:t.selectedIndex||0,onConfirm:a,onCancel:l,getAccounts:t.getAccounts})}),n)})}var oe=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(a){a(c)})}return new(n||(n=Promise))(function(c,a){function l(g){try{u(r.next(g))}catch(d){a(d)}}function h(g){try{u(r.throw(g))}catch(d){a(d)}}function u(g){g.done?c(g.value):s(g.value).then(l,h)}u((r=r.apply(t,e||[])).next())})};function fi(t){return oe(this,void 0,void 0,function*(){return new Promise(e=>{setTimeout(e,t)})})}function su(t){return typeof t=="function"}const cu=function(t){return oe(this,arguments,void 0,function*({accounts:e,ledgerUtils:n}){const r=yield ou({accounts:e,getAccounts:n.getAccounts}),s=iu(r.address);try{yield n.getAddress(r.index,!0)}finally{s==null||s()}return r})};class au{constructor(e={}){this.app=null,this.transport=null,this.fetchState="Initial",this.selectedIndex=0,this._address="",this.getAccounts=(r,s)=>oe(this,void 0,void 0,function*(){if(r<0)throw new Error("getAccount parameter error: from cannot be smaller than 0.");if(r>=s)throw new Error("getAccount parameter error: from cannot be bigger than to.");if(this.fetchState==="Fetching")return yield fi(500),this.getAccounts(r,s);this.fetchState="Fetching",yield this.makeApp();try{const c={};for(let a=r;a<s;a++){const l=yield this.getAccount(a);c[l.index]=l}return Object.keys(c).forEach(a=>{this.accounts[+a]=c[a]}),this.accounts.slice(r,s)}finally{this.fetchState="Initial",yield this.cleanUp()}}),this.getAddress=(r,...s)=>oe(this,[r,...s],void 0,function*(c,a=!1){try{const l=this.getPathForIndex(c);return yield this.makeApp(),yield this.app.getAddress(l,a)}finally{yield this.cleanUp()}}),this.accounts=[];const{accountNumber:n=1}=e;if(["beforeConnect","selectAccount","getDerivationPath"].forEach(r=>{if(e[r]&&!su(e[r]))throw new Error(`[Ledger]: ${r} must be a function!`)}),n&&!Number.isInteger(+n))throw new Error("[Ledger]: accountNumber must be an integer!");this.config=Object.assign(Object.assign({},e),{accountNumber:n})}get address(){return this._address}connect(e){return oe(this,void 0,void 0,function*(){if(e!=null&&e.account&&typeof e.account=="object"){const l=e.account;this.selectedIndex=+l.index,this._address=l.address,(l.index===void 0||l.address===void 0)&&console.warn("[LedgerWallet] account parameter passed to connect() should have valid index and address property");return}const n={getAccounts:this.getAccounts,getAddress:this.getAddress};this.accounts=[],this._address="",this.selectedIndex=0;const{accountNumber:r=1,beforeConnect:s,selectAccount:c=cu}=this.config;let a=null;try{s?yield s():a=ru(),yield this.makeApp();const l=yield this.getAccount(0);this.accounts[0]=l,yield this.cleanUp(),r>1&&(yield this.getAccounts(1,r)),a==null||a();const h=this.accounts.slice(0,r),u=yield c({accounts:h,ledgerUtils:n});this.selectedIndex=u.index,this._address=u.address}finally{yield this.cleanUp()}})}disconnect(){this.selectedIndex=0,this._address=""}signPersonalMessage(e){return oe(this,void 0,void 0,function*(){yield this.waitForIdle();try{const n=this.selectedIndex;yield this.makeApp();const r=this.getPathForIndex(n),s=Buffer.from(e).toString("hex");return yield this.app.signPersonalMessage(r,s)}finally{yield this.cleanUp()}})}signTransaction(e){return oe(this,void 0,void 0,function*(){yield this.waitForIdle();try{const n=this.selectedIndex,r=this.getPathForIndex(n);yield this.makeApp();let s;try{s=yield this.app.signTransaction(r,e.raw_data_hex,[])}catch(a){if(/Too many bytes to encode/.test(a.message))s=yield this.app.signTransactionHash(r,e.txID);else throw a}let c=e.signature;return Array.isArray(c)?c.includes(s)||c.push(s):c=[s],Object.assign(Object.assign({},e),{signature:c})}finally{yield this.cleanUp()}})}getAccount(e){return oe(this,void 0,void 0,function*(){const n=this.getPathForIndex(e),{address:r}=yield this.app.getAddress(n);return{path:n,address:r,index:e}})}waitForIdle(){return oe(this,void 0,void 0,function*(){this.fetchState==="Fetching"&&(yield fi(300),yield this.waitForIdle())})}getPathForIndex(e){return this.config.getDerivationPath?this.config.getDerivationPath(e):`44'/195'/${e}'/0/0`}makeApp(){return oe(this,void 0,void 0,function*(){this.transport&&this.app||(this.transport=yield bl.create(),this.app=new qi(this.transport))})}cleanUp(){return oe(this,void 0,void 0,function*(){var e;this.app=null,yield(e=this.transport)===null||e===void 0?void 0:e.close(),this.transport=null})}}var vt=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(a){a(c)})}return new(n||(n=Promise))(function(c,a){function l(g){try{u(r.next(g))}catch(d){a(d)}}function h(g){try{u(r.throw(g))}catch(d){a(d)}}function u(g){g.done?c(g.value):s(g.value).then(l,h)}u((r=r.apply(t,e||[])).next())})};const lu=()=>!!(globalThis.navigator&&globalThis.navigator.hid),uu="Ledger";class fu extends Si{constructor(e={}){super(),this.name=uu,this.url="https://www.ledger.com/",this.icon="data:image/png;base64,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",this._readyState=Me.Loading,this._state=ne.NotFound,this._connecting=!1,this._address=null,this.config=e,this._wallet=new au(e),lu()?(this._readyState=Me.Found,this._state=ne.Disconnect):this._readyState=Me.NotFound}get address(){return this._address}get state(){return this._state}get connecting(){return this._connecting}get readyState(){return this._readyState}get ledgerUtils(){return{getAccounts:this._wallet.getAccounts,getAddress:this._wallet.getAddress}}connect(e){return vt(this,void 0,void 0,function*(){try{if(this.connected||this.connecting)return;if(this.state===ne.NotFound)throw this.config.openUrlWhenWalletNotFound!==!1&&Bi()&&window.open(this.url,"_blank"),new bi;this._connecting=!0;try{yield this._wallet.connect(e)}catch(n){throw new Ti(`${n.message}.`)}this._address=this._wallet.address,this._state=ne.Connected,this.emit("connect",this.address||""),this.emit("stateChanged",this._state)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}})}disconnect(){return vt(this,void 0,void 0,function*(){if(this.state===ne.Connected)try{this._wallet.disconnect(),this._state=ne.Disconnect,this._address=null,this.emit("disconnect"),this.emit("stateChanged",this._state)}catch(e){throw this.emit("error",e),new Ri(e.message)}})}signTransaction(e){return vt(this,void 0,void 0,function*(){try{if(this.state!==ne.Connected)throw new An;try{return yield this._wallet.signTransaction(e)}catch(n){throw new Oi(n.message)}}catch(n){throw this.emit("error",n),n}})}signMessage(e){return vt(this,void 0,void 0,function*(){try{if(this.state!==ne.Connected)throw new An;try{return yield this._wallet.signPersonalMessage(e)}catch(n){throw new Ci(n==null?void 0:n.message,n)}}catch(n){throw this.emit("error",n),n}})}}window.LedgerAdapter=fu})();
